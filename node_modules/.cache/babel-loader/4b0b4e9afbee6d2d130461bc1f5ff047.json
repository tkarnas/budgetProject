{"remainingRequest":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tomis\\Desktop\\vue-diplomski\\src\\components\\ExpensesForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\src\\components\\ExpensesForm.vue","mtime":1676484596905},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\babel.config.js","mtime":1676484597141},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675708577019},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\babel-loader\\lib\\index.js","mtime":1675708563485},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675708577019},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\vue-loader\\lib\\index.js","mtime":1675708908543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6XFxVc2Vyc1xcdG9taXNcXERlc2t0b3BcXHZ1ZS1kaXBsb21za2lcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFx0b21pc1xcRGVza3RvcFxcdnVlLWRpcGxvbXNraVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGIsIGZpcmViYXNlIH0gZnJvbSAiQC9maXJlYmFzZSI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlLmpzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJvbGVGb3JtIiwKICBwcm9wczogWyJpc0FkbWluIiwgImlzVGVhbUxlYWQiLCAiaXNVc2VyIiwgImFsbFRlYW1zQW5kUHJvamVjdHMiLCAicmlnaHRzIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkUHJvamVjdDogbnVsbCwKICAgICAgbnVtYmVyVmFsdWU6IG51bGwsCiAgICAgIHJlYXNvbjogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUZWFtczogZnVuY3Rpb24gZ2V0VGVhbXMoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbGwtZ2V0LXRlYW1zIik7CiAgICB9LAogICAgYWRkRXhwZW5zZXM6IGZ1bmN0aW9uIGFkZEV4cGVuc2VzKGFsbFRlYW1zQW5kUHJvamVjdHMsIHNlbGVjdGVkUHJvamVjdCwgbnVtYmVyVmFsdWUsIHJlYXNvbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdGVhbSwgcHJvamVjdCwgc3BlbnRNb25leSwgX2l0ZXJhdG9yLCBfc3RlcCwgZXhwZW5zZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEocGFyc2VJbnQobnVtYmVyVmFsdWUsIDEwKSA8IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kYWxlcnQoIkNhbm5vdCBpbnB1dCBuZWdhdGl2ZSBudW1iZXJzLiIsICJXYXJuaW5nIiwgIndhcm5pbmciKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEoIXNlbGVjdGVkUHJvamVjdCB8fCAhbnVtYmVyVmFsdWUgfHwgcmVhc29uID09PSAiIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRhbGVydCgiRmllbGRzIGNhbm5vdCBiZSBlbXB0eS4iLCAiV2FybmluZyIsICJ3YXJuaW5nIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHRlYW0gPSBhbGxUZWFtc0FuZFByb2plY3RzLnRlYW1zV2l0aFByb2plY3RzLmZpbmQoZnVuY3Rpb24gKHRlYW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlYW0ucHJvamVjdHMuc29tZShmdW5jdGlvbiAocHJvamVjdCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0LnByb2plY3ROYW1lID09PSBzZWxlY3RlZFByb2plY3QucHJvamVjdE5hbWUgJiYgcHJvamVjdC5wcm9qZWN0QnVkZ2V0ID09PSBzZWxlY3RlZFByb2plY3QucHJvamVjdEJ1ZGdldDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAodGVhbSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHByb2plY3QgPSB0ZWFtLnByb2plY3RzLmZpbmQoZnVuY3Rpb24gKHByb2plY3QpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3QucHJvamVjdE5hbWUgPT09IHNlbGVjdGVkUHJvamVjdC5wcm9qZWN0TmFtZSAmJiBwcm9qZWN0LnByb2plY3RCdWRnZXQgPT09IHNlbGVjdGVkUHJvamVjdC5wcm9qZWN0QnVkZ2V0OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKHByb2plY3QpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGlmICghKHBhcnNlSW50KG51bWJlclZhbHVlLCAxMCkgPiBwcm9qZWN0LnByb2plY3RCdWRnZXQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJGFsZXJ0KCJOdW1iZXIgdG9vIGxhcmdlLiIsICJXYXJuaW5nIiwgIndhcm5pbmciKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHNwZW50TW9uZXkgPSAwOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvamVjdC5leHBlbnNlcyk7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICBleHBlbnNlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgc3BlbnRNb25leSArPSBleHBlbnNlLmFtb3VudDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKHNwZW50TW9uZXkgKyBwYXJzZUludChudW1iZXJWYWx1ZSwgMTApID4gcHJvamVjdC5wcm9qZWN0QnVkZ2V0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRhbGVydCgiSW5zdWZmaWNpZW50IGZ1bmRzLiIsICJXYXJuaW5nIiwgIndhcm5pbmciKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJlcnJvciIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdmFyIHRlYW1JZDsKICAgICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlYW1Gcm9tREIgPSBkb2MuZGF0YSgpOwoKICAgICAgICAgICAgICAgICAgICBpZiAodGVhbUZyb21EQi5uYW1lID09PSB0ZWFtLnRlYW1OYW1lICYmIHRlYW1Gcm9tREIuYnVkZ2V0ID09PSB0ZWFtLnRlYW1CdWRnZXQpIHsKICAgICAgICAgICAgICAgICAgICAgIHRlYW1JZCA9IGRvYy5pZDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB2YXIgcHJvamVjdEluZGV4ID0gdGVhbS5wcm9qZWN0cy5pbmRleE9mKHByb2plY3QpOwogICAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ0ZWFtcyIpLmRvYyh0ZWFtSWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkVGVhbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBtb21lbnQoKS5mb3JtYXQoIkREIE1NIFlZWVkiKTsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGVhbS5wcm9qZWN0c1twcm9qZWN0SW5kZXhdLmV4cGVuc2VzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChudW1iZXJWYWx1ZSwgMTApLAogICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb24sCiAgICAgICAgICAgICAgICAgICAgICBtb21lbnQ6IHRpbWUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ0ZWFtcyIpLmRvYyh0ZWFtSWQpLnNldCh1cGRhdGVkVGVhbSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLmdldFRlYW1zKCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRhbGVydCgiRXhwZW5zZSBhZGRlZCIsICJTdWNjZXNzIiwgInN1Y2Nlc3MiKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkUHJvamVjdCA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpcy5udW1iZXJWYWx1ZSA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpcy5yZWFzb24gPSAiIjsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaWduZWRVc2VyOiBmdW5jdGlvbiBzaWduZWRVc2VyKCkgewogICAgICByZXR1cm4gc3RvcmUuY3VycmVudFVzZXI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ExpensesForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"flex\" v-if=\"isAdmin || isTeamLead\">\r\n    <div class=\"form-group\">\r\n      <h1>Add expenses</h1>\r\n      <form class=\"form-group border\">\r\n        <label for=\"select-field\">Select Project:</label>\r\n        <select id=\"select-field\" v-model=\"selectedProject\">\r\n          <option\r\n            v-for=\"(team, index) in allTeamsAndProjects.onlyProjecsts\"\r\n            :key=\"index\"\r\n            :value=\"team\"\r\n          >\r\n            {{ team.projectName }}\r\n          </option>\r\n        </select>\r\n        <label style=\"margin-top: 20px\" for=\"number-field\">Money spent:</label>\r\n        <input type=\"number\" id=\"number-field\" v-model=\"numberValue\" />\r\n        <label style=\"margin-top: 20px\" for=\"reason-field\">Reason:</label>\r\n        <input type=\"text\" id=\"reason-field\" v-model=\"reason\" />\r\n        <div\r\n          class=\"blue-button\"\r\n          style=\"margin-top: 10px\"\r\n          @click=\"\r\n            addExpenses(\r\n              allTeamsAndProjects,\r\n              selectedProject,\r\n              numberValue,\r\n              reason\r\n            )\r\n          \"\r\n        >\r\n          Submit\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, firebase } from \"@/firebase\";\r\nimport store from \"@/store.js\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  name: \"RoleForm\",\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"allTeamsAndProjects\", \"rights\"],\r\n  data() {\r\n    return {\r\n      selectedProject: null,\r\n      numberValue: null,\r\n      reason: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    async addExpenses(\r\n      allTeamsAndProjects,\r\n      selectedProject,\r\n      numberValue,\r\n      reason\r\n    ) {\r\n      if (parseInt(numberValue, 10) < 0) {\r\n        this.$alert(\"Cannot input negative numbers.\", \"Warning\", \"warning\");\r\n        return;\r\n      }\r\n      if (!selectedProject || !numberValue || reason === \"\") {\r\n        this.$alert(\"Fields cannot be empty.\", \"Warning\", \"warning\");\r\n        return;\r\n      }\r\n\r\n      const team = allTeamsAndProjects.teamsWithProjects.find((team) =>\r\n        team.projects.some(\r\n          (project) =>\r\n            project.projectName === selectedProject.projectName &&\r\n            project.projectBudget === selectedProject.projectBudget\r\n        )\r\n      );\r\n\r\n      if (!team) {\r\n        return;\r\n      }\r\n\r\n      const project = team.projects.find(\r\n        (project) =>\r\n          project.projectName === selectedProject.projectName &&\r\n          project.projectBudget === selectedProject.projectBudget\r\n      );\r\n\r\n      if (!project) {\r\n        return;\r\n      }\r\n\r\n      if (parseInt(numberValue, 10) > project.projectBudget) {\r\n        this.$alert(\"Number too large.\", \"Warning\", \"warning\");\r\n        return;\r\n      }\r\n\r\n      let spentMoney = 0;\r\n      for (const expense of project.expenses) {\r\n        spentMoney += expense.amount;\r\n      }\r\n\r\n      if (spentMoney + parseInt(numberValue, 10) > project.projectBudget) {\r\n        this.$alert(\"Insufficient funds.\", \"Warning\", \"warning\");\r\n        return;\r\n      }\r\n\r\n      db.collection(\"teams\")\r\n        .get()\r\n        .then((snapshot) => {\r\n          if (snapshot.empty) {\r\n            console.warn(\"error\");\r\n            return;\r\n          }\r\n          let teamId;\r\n          snapshot.forEach((doc) => {\r\n            const teamFromDB = doc.data();\r\n            if (\r\n              teamFromDB.name === team.teamName &&\r\n              teamFromDB.budget === team.teamBudget\r\n            ) {\r\n              teamId = doc.id;\r\n            }\r\n          });\r\n          const projectIndex = team.projects.indexOf(project);\r\n          db.collection(\"teams\")\r\n            .doc(teamId)\r\n            .get()\r\n            .then((doc) => {\r\n              const updatedTeam = doc.data();\r\n              const time = moment().format(\"DD MM YYYY\");\r\n              updatedTeam.projects[projectIndex].expenses.push({\r\n                amount: parseInt(numberValue, 10),\r\n                reason: reason,\r\n                moment: time,\r\n              });\r\n\r\n              db.collection(\"teams\").doc(teamId).set(updatedTeam);\r\n              this.getTeams();\r\n              this.$alert(\"Expense added\", \"Success\", \"success\");\r\n            });\r\n        });\r\n      this.selectedProject = null;\r\n      this.numberValue = null;\r\n      this.reason = \"\";\r\n    },\r\n  },\r\n  computed: {\r\n    signedUser() {\r\n      return store.currentUser;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.blue-button {\r\n  display: block;\r\n  width: 30%;\r\n  padding: 10px;\r\n  text-align: center;\r\n  background-color: rgba(41, 133, 133, 0.3);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  border: 1px solid black;\r\n}\r\n\r\n.flex {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.border {\r\n  border: 1px solid black;\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin: 0px 20px;\r\n}\r\n\r\n.form-group input {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.form-group select {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}