{"remainingRequest":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tomis\\Desktop\\vue-diplomski\\src\\components\\Teams.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\src\\components\\Teams.vue","mtime":1676484597031},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\babel.config.js","mtime":1676484597141},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675708577019},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\babel-loader\\lib\\index.js","mtime":1675708563485},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675708577019},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\vue-loader\\lib\\index.js","mtime":1675708908543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6XFxVc2Vyc1xcdG9taXNcXERlc2t0b3BcXHZ1ZS1kaXBsb21za2lcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUHJvamVjdEZvcm0gZnJvbSAiLi4vY29tcG9uZW50cy9Qcm9qZWN0Rm9ybS52dWUiOwppbXBvcnQgUHJvamVjdHMgZnJvbSAiLi4vY29tcG9uZW50cy9Qcm9qZWN0cy52dWUiOwppbXBvcnQgeyBkYiB9IGZyb20gIkAvZmlyZWJhc2UiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGVhbXMiLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2plY3RzOiBQcm9qZWN0cywKICAgIFByb2plY3RGb3JtOiBQcm9qZWN0Rm9ybQogIH0sCiAgcHJvcHM6IFsiaXNBZG1pbiIsICJpc1RlYW1MZWFkIiwgImlzVXNlciIsICJ0ZWFtc0FyciIsICJyaWdodHMiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9Qcm9qZWN0c01vZGFsOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaWduZWRVc2VyOiBmdW5jdGlvbiBzaWduZWRVc2VyKCkgewogICAgICByZXR1cm4gc3RvcmUuY3VycmVudFVzZXI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93Tm9Qcm9qZWN0c1dpbmRvdzogZnVuY3Rpb24gc2hvd05vUHJvamVjdHNXaW5kb3coKSB7CiAgICAgIHRoaXMubm9Qcm9qZWN0c01vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRUZWFtczogZnVuY3Rpb24gZ2V0VGVhbXMoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbGwtZ2V0LXRlYW1zIik7CiAgICB9LAogICAgdGVhbUxlYWRDYW5TZWU6IGZ1bmN0aW9uIHRlYW1MZWFkQ2FuU2VlKHRlYW0pIHsKICAgICAgaWYgKHRoaXMucmlnaHRzID09PSAiQWRtaW4iKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0ZWFtLnRlYW1sZWFkICE9PSBudWxsICYmIHRlYW0udGVhbWxlYWQgPT09IHRoaXMuc2lnbmVkVXNlcikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IC8vIGlmICh0aGlzLnJpZ2h0cyA9PT0gIlRlYW0gTGVhZCIgJiYgdGVhbS50ZWFtbGVhZCA9PT0gdGhpcy5zaWduZWRVc2VyKSB7CiAgICAgIC8vICAgcmV0dXJuIHRydWU7CiAgICAgIC8vIH0KCgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgc3BlbnRNb25leTogZnVuY3Rpb24gc3BlbnRNb25leSh0ZWFtKSB7CiAgICAgIHZhciBzcGVudE1vbmV5ID0gMDsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0ZWFtLnByb2plY3RzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHByb2plY3QgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAocHJvamVjdCAmJiBwcm9qZWN0LmV4cGVuc2VzICYmIHByb2plY3QuZXhwZW5zZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvamVjdC5leHBlbnNlcyksCiAgICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgc3BlbnQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICBzcGVudE1vbmV5ICs9IHNwZW50LmFtb3VudDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzcGVudE1vbmV5OwogICAgfQogIH0KfTs="},{"version":3,"sources":["Teams.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,WAAA,MAAA,+BAAA;AACA,OAAA,QAAA,MAAA,4BAAA;AACA,SAAA,EAAA,QAAA,YAAA;AACA,OAAA,KAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,YAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,CANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,CAAA,WAAA;AACA;AAHA,GAZA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,oBADA,kCACA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,WAAA,KAAA,CAAA,gBAAA;AACA,KANA;AAOA,IAAA,cAPA,0BAOA,IAPA,EAOA;AACA,UAAA,KAAA,MAAA,KAAA,OAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,UAAA,IAAA,CAAA,QAAA,KAAA,IAAA,IAAA,IAAA,CAAA,QAAA,KAAA,KAAA,UAAA,EAAA;AACA,eAAA,IAAA;AACA,OANA,CAOA;AACA;AACA;;;AACA,aAAA,KAAA;AACA,KAlBA;AAmBA,IAAA,UAnBA,sBAmBA,IAnBA,EAmBA;AACA,UAAA,UAAA,GAAA,CAAA;;AADA,iDAEA,IAAA,CAAA,QAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,OAAA;;AACA,cAAA,OAAA,IAAA,OAAA,CAAA,QAAA,IAAA,OAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AAAA,wDACA,OAAA,CAAA,QADA;AAAA;;AAAA;AACA,qEAAA;AAAA,oBAAA,KAAA;AACA,gBAAA,UAAA,IAAA,KAAA,CAAA,MAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;;AASA,aAAA,UAAA;AACA;AA7BA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!-- // check -->\r\n    <div class=\"teams-container\" v-if=\"(isAdmin || isTeamLead || isUser) && !noProjectsModal\">\r\n      <div class=\"team\" v-for=\"(team, teamIndex) in teamsArr\" :key=\"teamIndex\">\r\n        <div v-if=\"teamLeadCanSee(team) || isUser\">\r\n          <h3 v-if=\"isAdmin || isTeamLead\">\r\n            {{ team.teamName }} - Budget is {{ team.teamBudget }} €\r\n            <s v-if=\"spentMoney(team) !== 0\">{{ spentMoney(team) }} €</s>\r\n          </h3>\r\n          <h3 v-if=\"(isAdmin || isTeamLead) && team.teamlead !== ''\">\r\n            Teamlead is {{ team.teamlead }}\r\n          </h3>\r\n          <h3 v-else-if=\"(isAdmin || isTeamLead) && team.teamlead === ''\">\r\n            There is no teamlead currently\r\n          </h3>\r\n          <ProjectForm @call-get-teams=\"getTeams\" :isAdmin=\"isAdmin\" :isTeamLead=\"isTeamLead\" :isUser=\"isUser\" :team=\"team\"></ProjectForm>\r\n        </div>\r\n        <Projects\r\n          :teamIndex=\"teamIndex\"\r\n          :teams=\"teamsArr\"\r\n          :rights=\"rights\"\r\n          :isAdmin=\"isAdmin\"\r\n          :isTeamLead=\"isTeamLead\"\r\n          :isUser=\"isUser\"\r\n          :team=\"team\"\r\n          @call-get-teams=\"getTeams\"\r\n          @no-projects=\"showNoProjectsWindow\"\r\n        ></Projects>\r\n      </div>\r\n    </div>\r\n    <div class=\"teams-container\" v-if=\"noProjectsModal\">\r\n      Currently there is no projects or teams for you to see, contact\r\n      administrators.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProjectForm from \"../components/ProjectForm.vue\";\r\nimport Projects from \"../components/Projects.vue\";\r\nimport { db } from \"@/firebase\";\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n  name: \"Teams\",\r\n  components: {\r\n    Projects,\r\n    ProjectForm,\r\n  },\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"teamsArr\", \"rights\"],\r\n  data() {\r\n    return {\r\n      noProjectsModal: false,\r\n    };\r\n  },\r\n  computed: {\r\n    signedUser() {\r\n      return store.currentUser;\r\n    },\r\n  },\r\n  methods: {\r\n    showNoProjectsWindow() {\r\n      this.noProjectsModal = true;\r\n    },\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    teamLeadCanSee(team) {\r\n      if (this.rights === \"Admin\") {\r\n        return true;\r\n      }\r\n      if (team.teamlead !== null && team.teamlead === this.signedUser) {\r\n        return true;\r\n      }\r\n      // if (this.rights === \"Team Lead\" && team.teamlead === this.signedUser) {\r\n      //   return true;\r\n      // }\r\n      return false;\r\n    },\r\n    spentMoney(team) {\r\n      let spentMoney = 0;\r\n      for (const project of team.projects) {\r\n        if (project && project.expenses && project.expenses.length) {\r\n          for (const spent of project.expenses) {\r\n            spentMoney += spent.amount;\r\n          }\r\n        }\r\n      }\r\n      return spentMoney;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.teams-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: row;\r\n  align-items: start;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.team {\r\n  margin-right: 20px;\r\n  margin-bottom: 20px;\r\n  background-color: rgba(0, 0, 0, 0.025);\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  width: 40%;\r\n  padding: 20px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}