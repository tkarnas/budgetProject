{"remainingRequest":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tomis\\Desktop\\vue-diplomski\\src\\components\\RoleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\src\\components\\RoleForm.vue","mtime":1676484596984},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\babel.config.js","mtime":1676484597141},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675708577019},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\babel-loader\\lib\\index.js","mtime":1675708563485},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1675708577019},{"path":"C:\\Users\\tomis\\Desktop\\vue-diplomski\\node_modules\\vue-loader\\lib\\index.js","mtime":1675708908543}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFx0b21pc1xcRGVza3RvcFxcdnVlLWRpcGxvbXNraVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXFVzZXJzXFx0b21pc1xcRGVza3RvcFxcdnVlLWRpcGxvbXNraVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiQzpcXFVzZXJzXFx0b21pc1xcRGVza3RvcFxcdnVlLWRpcGxvbXNraVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGRiLCBmaXJlYmFzZSB9IGZyb20gIkAvZmlyZWJhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJvbGVGb3JtIiwKICBwcm9wczogWyJpc0FkbWluIiwgImFsbFRlYW1zQW5kUHJvamVjdHMiLCAicmlnaHRzIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiLAogICAgICByb2xlOiAiIiwKICAgICAgdXNlclByb2plY3Q6ICIiLAogICAgICBhbGxVc2Vyc0FycjogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEFsbFVzZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUZWFtczogZnVuY3Rpb24gZ2V0VGVhbXMoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbGwtZ2V0LXRlYW1zIik7CiAgICB9LAogICAgc2V0Um9sZTogZnVuY3Rpb24gc2V0Um9sZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy51c2VyIHx8ICF0aGlzLnJvbGUpIHsKICAgICAgICB0aGlzLiRhbGVydCgiRmllbGRzIGNhbnQgYmUgZW1wdHkhIiwgIldhcm5pbmciLCAid2FybmluZyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXI7CiAgICAgIHZhciByb2xlTWFwID0gewogICAgICAgIGlzQWRtaW46IHsKICAgICAgICAgIGlzQWRtaW46IHRydWUKICAgICAgICB9LAogICAgICAgIGlzVGVhbUxlYWQ6IHsKICAgICAgICAgIGlzVGVhbUxlYWQ6IHRydWUKICAgICAgICB9LAogICAgICAgICJkZWZhdWx0IjogewogICAgICAgICAgaXNVc2VyOiB0cnVlCiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgZm91bmQ7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5hbGxVc2Vyc0FyciksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBjaGVja1VzZXIgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoY2hlY2tVc2VyID09PSB1c2VyKSB7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsgLy8gdGhpcy4kYWxlcnQoIlRoaXMgdXNlciBhbHJlYWR5IGV4aXN0cyEiLCAiV2FybmluZyIsICJ3YXJuaW5nIik7CiAgICAgICAgICAgIC8vIHJldHVybgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICBpZiAodGhpcy5yb2xlID09PSAnaXNVc2VyJyAmJiAodGhpcy51c2VyUHJvamVjdCA9PT0gJycgfHwgdGhpcy51c2VyUHJvamVjdCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudXNlclByb2plY3QgPT09IG51bGwpKSB7CiAgICAgICAgdGhpcy4kYWxlcnQoIkNhbnQgYWRkIHVzZXIgdG8gcHJvamVjdCBiZWNhc3VlIHRoZXJlIHByb2plY3RzIGRvZXNudCBleGlzdCIsICJXYXJuaW5nIiwgIndhcm5pbmciKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChmb3VuZCkgewogICAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnkpIHsKICAgICAgICAgIHF1ZXJ5LmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICB2YXIgZGF0YSA9IGRvYy5kYXRhKCk7CgogICAgICAgICAgICBpZiAodXNlciA9PT0gZGF0YS51c2VyKSB7CiAgICAgICAgICAgICAgdmFyIF9kYiRjb2xsZWN0aW9uJGRvYyR1cDsKCiAgICAgICAgICAgICAgdmFyIHByZXZpb3VzUm9sZSA9ICJpc1VzZXIiOwoKICAgICAgICAgICAgICBpZiAoZGF0YS5pc0FkbWluKSB7CiAgICAgICAgICAgICAgICBwcmV2aW91c1JvbGUgPSAiaXNBZG1pbiI7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmlzVGVhbUxlYWQpIHsKICAgICAgICAgICAgICAgIHByZXZpb3VzUm9sZSA9ICJpc1RlYW1MZWFkIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciB1c2VySWQgPSBkb2MuaWQ7CiAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlcklkKS51cGRhdGUoKF9kYiRjb2xsZWN0aW9uJGRvYyR1cCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RiJGNvbGxlY3Rpb24kZG9jJHVwLCBwcmV2aW91c1JvbGUsIGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlWyJkZWxldGUiXSgpKSwgX2RlZmluZVByb3BlcnR5KF9kYiRjb2xsZWN0aW9uJGRvYyR1cCwgX3RoaXMucm9sZSwgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfZGIkY29sbGVjdGlvbiRkb2MkdXAsICJ1c2VyIiwgX3RoaXMudXNlciksIF9kYiRjb2xsZWN0aW9uJGRvYyR1cCkpOwoKICAgICAgICAgICAgICBpZiAoX3RoaXMucm9sZSA9PT0gImlzVGVhbUxlYWQiKSB7CiAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ0ZWFtcyIpLndoZXJlKCJuYW1lIiwgIj09IiwgX3RoaXMudXNlclByb2plY3QudGVhbU5hbWUpLndoZXJlKCJidWRnZXQiLCAiPT0iLCBfdGhpcy51c2VyUHJvamVjdC50ZWFtQnVkZ2V0KS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICAgIHZhciB0ZWFtSWQgPSBkb2MuaWQ7CiAgICAgICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKS5kb2ModGVhbUlkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICAgICAgdGVhbWxlYWQ6IF90aGlzLnVzZXIKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRhbGVydCgiQWRkZWQiLCAiU3VjY2VzcyIsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0VGVhbXMoKTsKICAgICAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFkZGluZyBwcm9qZWN0OiIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZ2V0dGluZyB0ZWFtOiIsIGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9sZSA9PT0gJ2lzVXNlcicpIHsKICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJlcnJvciIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlYW0gPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgIHZhciB0ZWFtSWQgPSBkb2MuaWQ7CgogICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGVhbS5wcm9qZWN0cyksCiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0ID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2plY3QucHJvamVjdE5hbWUgPT09IF90aGlzLnVzZXJQcm9qZWN0LnByb2plY3ROYW1lICYmIHByb2plY3QucHJvamVjdEJ1ZGdldCA9PT0gX3RoaXMudXNlclByb2plY3QucHJvamVjdEJ1ZGdldCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvamVjdEluZGV4ID0gdGVhbS5wcm9qZWN0cy5pbmRleE9mKHByb2plY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKS5kb2ModGVhbUlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRUZWFtID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRlYW0ucHJvamVjdHNbcHJvamVjdEluZGV4XS5wZW9wbGUucHVzaCh1c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKS5kb2ModGVhbUlkKS5zZXQodXBkYXRlZFRlYW0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGFsZXJ0KCJBZGRlZCIsICJTdWNjZXNzIiwgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmdldFRlYW1zKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHJvbGUgPSByb2xlTWFwW3RoaXMucm9sZV0gfHwgcm9sZU1hcFsiZGVmYXVsdCJdOwoKICAgICAgICBpZiAodGhpcy5yb2xlID09PSAiaXNVc2VyIikgewogICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmFsbFRlYW1zQW5kUHJvamVjdHMudGVhbXNXaXRoUHJvamVjdHMpLAogICAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciB0ZWFtID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRlYW0ucHJvamVjdHMpLAogICAgICAgICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICB2YXIgcHJvamVjdCA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0LnByb2plY3ROYW1lID09PSB0aGlzLnVzZXJQcm9qZWN0LnByb2plY3ROYW1lICYmIHByb2plY3QucHJvamVjdEJ1ZGdldCA9PT0gdGhpcy51c2VyUHJvamVjdC5wcm9qZWN0QnVkZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVhbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZWFtSWQgPSBkb2MuaWQ7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRlYW0ucHJvamVjdHMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZXA1OwoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wcm9qZWN0ID0gX3N0ZXA1LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcHJvamVjdC5wcm9qZWN0TmFtZSA9PT0gX3RoaXMudXNlclByb2plY3QucHJvamVjdE5hbWUgJiYgX3Byb2plY3QucHJvamVjdEJ1ZGdldCA9PT0gX3RoaXMudXNlclByb2plY3QucHJvamVjdEJ1ZGdldCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0SW5kZXggPSB0ZWFtLnByb2plY3RzLmluZGV4T2YoX3Byb2plY3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikuZG9jKHRlYW1JZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFRlYW0gPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRlYW0ucHJvamVjdHNbcHJvamVjdEluZGV4XS5wZW9wbGUucHVzaCh1c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikuZG9jKHRlYW1JZCkuc2V0KHVwZGF0ZWRUZWFtKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYWxlcnQoIkFkZGVkIiwgIlN1Y2Nlc3MiLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmdldFRlYW1zKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yb2xlID09PSAiaXNUZWFtTGVhZCIpIHsKICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikud2hlcmUoIm5hbWUiLCAiPT0iLCB0aGlzLnVzZXJQcm9qZWN0LnRlYW1OYW1lKS53aGVyZSgiYnVkZ2V0IiwgIj09IiwgdGhpcy51c2VyUHJvamVjdC50ZWFtQnVkZ2V0KS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgIHZhciB0ZWFtSWQgPSBkb2MuaWQ7CiAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKS5kb2ModGVhbUlkKS51cGRhdGUoewogICAgICAgICAgICAgICAgdGVhbWxlYWQ6IF90aGlzLnVzZXIKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRhbGVydCgiQWRkZWQiLCAiU3VjY2VzcyIsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgX3RoaXMuZ2V0VGVhbXMoKTsKICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFkZGluZyBwcm9qZWN0OiIsIGVycm9yKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZ2V0dGluZyB0ZWFtOiIsIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5hZGQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICB1c2VyOiB0aGlzLnVzZXIKICAgICAgICB9LCByb2xlKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcm9sZU1hcCA9IHsKICAgICAgICAgICAgaXNBZG1pbjogImFkbWluIiwKICAgICAgICAgICAgaXNUZWFtTGVhZDogInRlYW1sZWFkIiwKICAgICAgICAgICAgImRlZmF1bHQiOiAidXNlciIKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgcm9sYSA9IHJvbGVNYXBbX3RoaXMucm9sZV0gfHwgcm9sZU1hcFsiZGVmYXVsdCJdOwoKICAgICAgICAgIF90aGlzLiRhbGVydCgiVXNlciAiLmNvbmNhdChfdGhpcy51c2VyLCAiIGlzIHNldCBhcyAiKS5jb25jYXQocm9sYSksICJTdWNjZXNzIiwgInN1Y2Nlc3MiKTsKCiAgICAgICAgICBfdGhpcy51c2VyID0gIiI7CiAgICAgICAgICBfdGhpcy5yb2xlID0gIiI7CgogICAgICAgICAgX3RoaXMuZ2V0VGVhbXMoKTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzLiRhbGVydChlcnJvciwgIkVycm9yIiwgImVycm9yIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaEFsbFVzZXJzOiBmdW5jdGlvbiBmZXRjaEFsbFVzZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnkpIHsKICAgICAgICBxdWVyeS5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBkYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgIHZhciB1c2VyID0gZGF0YS51c2VyOwoKICAgICAgICAgIF90aGlzMi5hbGxVc2Vyc0Fyci5wdXNoKHVzZXIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["RoleForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,SAAA,EAAA,EAAA,QAAA,QAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,qBAAA,EAAA,QAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA;AAJA,KAAA;AAMA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,aAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,WAAA,KAAA,CAAA,gBAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AAAA;;AACA,UAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA,uBAAA,EAAA,SAAA,EAAA,SAAA;AACA;AACA;;AACA,UAAA,IAAA,GAAA,KAAA,IAAA;AAEA,UAAA,OAAA,GAAA;AACA,QAAA,OAAA,EAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAEA,QAAA,UAAA,EAAA;AAAA,UAAA,UAAA,EAAA;AAAA,SAFA;AAGA,mBAAA;AAAA,UAAA,MAAA,EAAA;AAAA;AAHA,OAAA;AAMA,UAAA,KAAA;;AAbA,iDAcA,KAAA,WAdA;AAAA;;AAAA;AAcA,4DAAA;AAAA,cAAA,SAAA;;AACA,cAAA,SAAA,KAAA,IAAA,EAAA;AACA,YAAA,KAAA,GAAA,IAAA,CADA,CAEA;AACA;AACA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;;AAsBA,UAAA,KAAA,IAAA,KAAA,QAAA,KAAA,KAAA,WAAA,KAAA,EAAA,IAAA,KAAA,WAAA,KAAA,SAAA,IAAA,KAAA,WAAA,KAAA,IAAA,CAAA,EACA;AACA,aAAA,MAAA,CAAA,8DAAA,EAAA,SAAA,EAAA,SAAA;AACA;AACA;;AAEA,UAAA,KAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,GAEA,IAFA,CAEA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;;AACA,gBAAA,IAAA,KAAA,IAAA,CAAA,IAAA,EAAA;AAAA;;AACA,kBAAA,YAAA,GAAA,QAAA;;AACA,kBAAA,IAAA,CAAA,OAAA,EAAA;AACA,gBAAA,YAAA,GAAA,SAAA;AACA,eAFA,MAEA,IAAA,IAAA,CAAA,UAAA,EAAA;AACA,gBAAA,YAAA,GAAA,YAAA;AACA;;AACA,kBAAA,MAAA,GAAA,GAAA,CAAA,EAAA;AACA,cAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,MAFA,qEAGA,YAHA,EAGA,QAAA,CAAA,SAAA,CAAA,UAAA,YAHA,0CAIA,KAAA,CAAA,IAJA,EAIA,IAJA,kDAKA,KAAA,CAAA,IALA;;AAOA,kBAAA,KAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,gBAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,KADA,CACA,MADA,EACA,IADA,EACA,KAAA,CAAA,WAAA,CAAA,QADA,EAEA,KAFA,CAEA,QAFA,EAEA,IAFA,EAEA,KAAA,CAAA,WAAA,CAAA,UAFA,EAGA,GAHA,GAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,sBAAA,QAAA,CAAA,KAAA,EAAA;AACA;AACA;;AACA,kBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,wBAAA,MAAA,GAAA,GAAA,CAAA,EAAA;AACA,oBAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,MAFA,CAEA;AACA,sBAAA,QAAA,EAAA,KAAA,CAAA;AADA,qBAFA,EAKA,IALA,CAKA,YAAA;AACA,sBAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA,SAAA,EAAA,SAAA;;AACA,sBAAA,KAAA,CAAA,QAAA;AACA,qBARA,WASA,UAAA,KAAA,EAAA;AACA,sBAAA,OAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA,qBAXA;AAYA,mBAdA;AAeA,iBAvBA,WAwBA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,KAAA,CAAA,qBAAA,EAAA,KAAA;AACA,iBA1BA;AA2BA,eA5BA,MA6BA,IAAA,KAAA,CAAA,IAAA,KAAA,QAAA,EACA;AACA,gBAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,sBAAA,QAAA,CAAA,KAAA,EAAA;AACA,oBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA;;AACA,kBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,wBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,wBAAA,MAAA,GAAA,GAAA,CAAA,EAAA;;AAFA,gEAGA,IAAA,CAAA,QAHA;AAAA;;AAAA;AAGA,6EAAA;AAAA,4BAAA,OAAA;;AACA,4BACA,OAAA,CAAA,WAAA,KACA,KAAA,CAAA,WAAA,CAAA,WADA,IAEA,OAAA,CAAA,aAAA,KACA,KAAA,CAAA,WAAA,CAAA,aAJA,EAKA;AAAA;AACA,gCAAA,YAAA,GAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAEA,4BAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,GAFA,GAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,kCAAA,WAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,8BAAA,WAAA,CAAA,QAAA,CAAA,YAAA,EAAA,MAAA,CAAA,IAAA,CACA,IADA;AAIA,8BAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,GAFA,CAEA,WAFA;;AAGA,8BAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA,SAAA,EAAA,SAAA;;AACA,8BAAA,KAAA,CAAA,QAAA;AACA,6BAdA;AAHA;AAkBA;AACA;AA5BA;AAAA;AAAA;AAAA;AAAA;AA6BA,mBA7BA;AA8BA,iBArCA;AAsCA;AACA;AACA,WAxFA;AAyFA,SA5FA;AA6FA,OA9FA,MA8FA;AACA,YAAA,IAAA,GAAA,OAAA,CAAA,KAAA,IAAA,CAAA,IAAA,OAAA,WAAA;;AACA,YAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AAAA,sDACA,KAAA,mBAAA,CAAA,iBADA;AAAA;;AAAA;AACA,mEAAA;AAAA,kBAAA,IAAA;;AAAA,0DACA,IAAA,CAAA,QADA;AAAA;;AAAA;AACA,uEAAA;AAAA,sBAAA,OAAA;;AACA,sBACA,OAAA,CAAA,WAAA,KAAA,KAAA,WAAA,CAAA,WAAA,IACA,OAAA,CAAA,aAAA,KAAA,KAAA,WAAA,CAAA,aAFA,EAGA;AACA,oBAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,0BAAA,QAAA,CAAA,KAAA,EAAA;AACA,wBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA;;AACA,sBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,4BAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,4BAAA,MAAA,GAAA,GAAA,CAAA,EAAA;;AAFA,oEAGA,IAAA,CAAA,QAHA;AAAA;;AAAA;AAGA,iFAAA;AAAA,gCAAA,QAAA;;AACA,gCACA,QAAA,CAAA,WAAA,KACA,KAAA,CAAA,WAAA,CAAA,WADA,IAEA,QAAA,CAAA,aAAA,KACA,KAAA,CAAA,WAAA,CAAA,aAJA,EAKA;AAAA;AACA,oCAAA,YAAA,GAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AAEA,gCAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,GAFA,GAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,sCAAA,WAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,kCAAA,WAAA,CAAA,QAAA,CAAA,YAAA,EAAA,MAAA,CAAA,IAAA,CACA,IADA;AAIA,kCAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,GAFA,CAEA,WAFA;;AAGA,kCAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA,SAAA,EAAA,SAAA;;AACA,kCAAA,KAAA,CAAA,QAAA;AACA,iCAdA;AAHA;AAkBA;AACA;AA5BA;AAAA;AAAA;AAAA;AAAA;AA6BA,uBA7BA;AA8BA,qBArCA;AAsCA;AACA;AA7CA;AAAA;AAAA;AAAA;AAAA;AA8CA;AA/CA;AAAA;AAAA;AAAA;AAAA;AAgDA,SAhDA,MAgDA,IAAA,KAAA,IAAA,KAAA,YAAA,EAAA;AACA,UAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,KADA,CACA,MADA,EACA,IADA,EACA,KAAA,WAAA,CAAA,QADA,EAEA,KAFA,CAEA,QAFA,EAEA,IAFA,EAEA,KAAA,WAAA,CAAA,UAFA,EAGA,GAHA,GAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,gBAAA,QAAA,CAAA,KAAA,EAAA;AACA;AACA;;AACA,YAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,GAAA,GAAA,CAAA,EAAA;AACA,cAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,CACA,MADA,EAEA,MAFA,CAEA;AACA,gBAAA,QAAA,EAAA,KAAA,CAAA;AADA,eAFA,EAKA,IALA,CAKA,YACA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA,SAAA,EAAA,SAAA;;AACA,gBAAA,KAAA,CAAA,QAAA;AACA,eATA,WAUA,UAAA,KAAA,EAAA;AACA,gBAAA,OAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA,eAZA;AAaA,aAfA;AAgBA,WAxBA,WAyBA,UAAA,KAAA,EAAA;AACA,YAAA,OAAA,CAAA,KAAA,CAAA,qBAAA,EAAA,KAAA;AACA,WA3BA;AA4BA;;AACA,QAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA;AACA,UAAA,IAAA,EAAA,KAAA;AADA,WACA,IADA,GAEA,IAFA,CAEA,YAAA;AACA,cAAA,OAAA,GAAA;AACA,YAAA,OAAA,EAAA,OADA;AAEA,YAAA,UAAA,EAAA,UAFA;AAGA,uBAAA;AAHA,WAAA;AAKA,cAAA,IAAA,GAAA,OAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,OAAA,WAAA;;AACA,UAAA,KAAA,CAAA,MAAA,gBACA,KAAA,CAAA,IADA,wBACA,IADA,GAEA,SAFA,EAGA,SAHA;;AAKA,UAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,EAAA;;AACA,UAAA,KAAA,CAAA,QAAA;AACA,SAjBA,WAkBA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,OAAA,EAAA,OAAA;AACA,SApBA;AAqBA;AACA,KApOA;AAqOA,IAAA,aArOA,2BAqOA;AAAA;;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EACA,GADA,GAEA,IAFA,CAEA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,IAAA;;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAJA;AAKA,OARA;AASA;AA/OA;AAdA,CAAA","sourcesContent":["<template>\r\n  <div class=\"flex\">\r\n    <div class=\"form-group\" v-if=\"isAdmin\">\r\n      <h1>Set roles for users</h1>\r\n      <form class=\"form-group border\">\r\n        <label for=\"select-field\">Select role</label>\r\n        <select id=\"select-field\" v-model=\"role\">\r\n          <option value=\"isAdmin\">Admin</option>\r\n          <option value=\"isTeamLead\">Teamlead</option>\r\n          <option value=\"isUser\">User</option>\r\n        </select>\r\n        <div\r\n          v-if=\"role === 'isUser' && allTeamsAndProjects.onlyProjecsts.length\"\r\n        >\r\n          <div>Add this user to project</div>\r\n          <select id=\"select-field\" v-model=\"userProject\">\r\n            <option\r\n              v-for=\"(project, index) in allTeamsAndProjects.onlyProjecsts\"\r\n              :key=\"index\"\r\n              :value=\"project\"\r\n            >\r\n              {{ project.projectName }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div\r\n          v-if=\"\r\n            role === 'isTeamLead' &&\r\n            allTeamsAndProjects.teamsWithProjects.length\r\n          \"\r\n        >\r\n          <div>Add this team lead to team</div>\r\n          <select id=\"select-field\" v-model=\"userProject\">\r\n            <option\r\n              v-for=\"(team, index) in allTeamsAndProjects.teamsWithProjects\"\r\n              :key=\"index\"\r\n              :value=\"team\"\r\n            >\r\n              {{ team.teamName }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <label for=\"reason-field\">Select user</label>\r\n        <select id=\"select-field\" v-model=\"user\">\r\n          <option\r\n            v-for=\"(user, index) in allUsersArr\"\r\n            :key=\"index\"\r\n            :value=\"user\"\r\n          >\r\n            {{ user }}\r\n          </option>\r\n        </select>\r\n        <div\r\n          class=\"blue-button\"\r\n          style=\"margin-top: 10px\"\r\n          @click=\"setRole(user, role, userProject)\"\r\n        >\r\n          Submit\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, firebase } from \"@/firebase\";\r\n\r\nexport default {\r\n  name: \"RoleForm\",\r\n  props: [\"isAdmin\", \"allTeamsAndProjects\", \"rights\"],\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      role: \"\",\r\n      userProject: \"\",\r\n      allUsersArr: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchAllUsers();\r\n  },\r\n  methods: {\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    setRole() {\r\n      if (!this.user || !this.role) {\r\n        this.$alert(\"Fields cant be empty!\", \"Warning\", \"warning\");\r\n        return;\r\n      }\r\n      const user = this.user;\r\n\r\n      const roleMap = {\r\n        isAdmin: { isAdmin: true },\r\n        isTeamLead: { isTeamLead: true },\r\n        default: { isUser: true },\r\n      };\r\n\r\n      let found;\r\n      for (const checkUser of this.allUsersArr) {\r\n        if (checkUser === user) {\r\n          found = true;\r\n          // this.$alert(\"This user already exists!\", \"Warning\", \"warning\");\r\n          // return\r\n        }\r\n      }\r\n\r\n      if (this.role === 'isUser' && (this.userProject === '' || this.userProject === undefined || this.userProject === null))\r\n      {\r\n        this.$alert(\"Cant add user to project becasue there projects doesnt exist\", \"Warning\", \"warning\")\r\n        return;\r\n      }\r\n\r\n      if (found) {\r\n        db.collection(\"users\")\r\n          .get()\r\n          .then((query) => {\r\n            query.forEach((doc) => {\r\n              const data = doc.data();\r\n              if (user === data.user) {\r\n                let previousRole = \"isUser\";\r\n                if (data.isAdmin) {\r\n                  previousRole = \"isAdmin\";\r\n                } else if (data.isTeamLead) {\r\n                  previousRole = \"isTeamLead\";\r\n                }\r\n                const userId = doc.id;\r\n                db.collection(\"users\")\r\n                  .doc(userId)\r\n                  .update({\r\n                    [previousRole]: firebase.firestore.FieldValue.delete(),\r\n                    [this.role]: true,\r\n                    user: this.user,\r\n                  });\r\n                  if (this.role === \"isTeamLead\") {\r\n                  db.collection(\"teams\")\r\n                    .where(\"name\", \"==\", this.userProject.teamName)\r\n                    .where(\"budget\", \"==\", this.userProject.teamBudget)\r\n                    .get()\r\n                    .then((snapshot) => {\r\n                      if (snapshot.empty) {\r\n                        return;\r\n                      }\r\n                      snapshot.forEach((doc) => {\r\n                        const teamId = doc.id;\r\n                        db.collection(\"teams\")\r\n                          .doc(teamId)\r\n                          .update({\r\n                            teamlead: this.user,\r\n                          })\r\n                          .then(() => {\r\n                            this.$alert(\"Added\", \"Success\", \"success\")\r\n                            this.getTeams()\r\n                          })\r\n                          .catch((error) => {\r\n                            console.error(\"Error adding project:\", error);\r\n                          });\r\n                      });\r\n                    })\r\n                    .catch((error) => {\r\n                      console.error(\"Error getting team:\", error);\r\n                    });\r\n                  }\r\n                  else if (this.role === 'isUser')\r\n                  {\r\n                    db.collection(\"teams\")\r\n                  .get()\r\n                  .then((snapshot) => {\r\n                    if (snapshot.empty) {\r\n                      console.warn(\"error\");\r\n                      return;\r\n                    }\r\n                    snapshot.forEach((doc) => {\r\n                      const team = doc.data();\r\n                      const teamId = doc.id;\r\n                      for (const project of team.projects) {\r\n                        if (\r\n                          project.projectName ===\r\n                            this.userProject.projectName &&\r\n                          project.projectBudget ===\r\n                            this.userProject.projectBudget\r\n                        ) {\r\n                          const projectIndex = team.projects.indexOf(project);\r\n\r\n                          db.collection(\"teams\")\r\n                            .doc(teamId)\r\n                            .get()\r\n                            .then((doc) => {\r\n                              const updatedTeam = doc.data();\r\n                              updatedTeam.projects[projectIndex].people.push(\r\n                                user\r\n                              );\r\n\r\n                              db.collection(\"teams\")\r\n                                .doc(teamId)\r\n                                .set(updatedTeam);\r\n                                this.$alert(\"Added\", \"Success\", \"success\");\r\n                                this.getTeams()\r\n                            });\r\n                        }\r\n                      }\r\n                    });\r\n                  });\r\n                  }\r\n                }\r\n            });\r\n          });\r\n      } else {\r\n        const role = roleMap[this.role] || roleMap.default;\r\n        if (this.role === \"isUser\") {\r\n          for (const team of this.allTeamsAndProjects.teamsWithProjects) {\r\n            for (const project of team.projects) {\r\n              if (\r\n                project.projectName === this.userProject.projectName &&\r\n                project.projectBudget === this.userProject.projectBudget\r\n              ) {\r\n                db.collection(\"teams\")\r\n                  .get()\r\n                  .then((snapshot) => {\r\n                    if (snapshot.empty) {\r\n                      console.warn(\"error\");\r\n                      return;\r\n                    }\r\n                    snapshot.forEach((doc) => {\r\n                      const team = doc.data();\r\n                      const teamId = doc.id;\r\n                      for (const project of team.projects) {\r\n                        if (\r\n                          project.projectName ===\r\n                            this.userProject.projectName &&\r\n                          project.projectBudget ===\r\n                            this.userProject.projectBudget\r\n                        ) {\r\n                          const projectIndex = team.projects.indexOf(project);\r\n\r\n                          db.collection(\"teams\")\r\n                            .doc(teamId)\r\n                            .get()\r\n                            .then((doc) => {\r\n                              const updatedTeam = doc.data();\r\n                              updatedTeam.projects[projectIndex].people.push(\r\n                                user\r\n                              );\r\n\r\n                              db.collection(\"teams\")\r\n                                .doc(teamId)\r\n                                .set(updatedTeam);\r\n                                this.$alert(\"Added\", \"Success\", \"success\");\r\n                                this.getTeams()\r\n                            });\r\n                        }\r\n                      }\r\n                    });\r\n                  });\r\n              }\r\n            }\r\n          }\r\n        } else if (this.role === \"isTeamLead\") {\r\n          db.collection(\"teams\")\r\n            .where(\"name\", \"==\", this.userProject.teamName)\r\n            .where(\"budget\", \"==\", this.userProject.teamBudget)\r\n            .get()\r\n            .then((snapshot) => {\r\n              if (snapshot.empty) {\r\n                return;\r\n              }\r\n              snapshot.forEach((doc) => {\r\n                const teamId = doc.id;\r\n                db.collection(\"teams\")\r\n                  .doc(teamId)\r\n                  .update({\r\n                    teamlead: this.user,\r\n                  })\r\n                  .then(() => \r\n                  {\r\n                    this.$alert(\"Added\", \"Success\", \"success\")\r\n                    this.getTeams()\r\n                  })\r\n                  .catch((error) => {\r\n                    console.error(\"Error adding project:\", error);\r\n                  });\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Error getting team:\", error);\r\n            });\r\n        }\r\n        db.collection(\"users\")\r\n          .add({ user: this.user, ...role })\r\n          .then(() => {\r\n            const roleMap = {\r\n              isAdmin: \"admin\",\r\n              isTeamLead: \"teamlead\",\r\n              default: \"user\",\r\n            };\r\n            const rola = roleMap[this.role] || roleMap.default;\r\n            this.$alert(\r\n              `User ${this.user} is set as ${rola}`,\r\n              \"Success\",\r\n              \"success\"\r\n            );\r\n            this.user = \"\";\r\n            this.role = \"\";\r\n            this.getTeams();\r\n          })\r\n          .catch((error) => {\r\n            this.$alert(error, \"Error\", \"error\");\r\n          });\r\n      }\r\n    },\r\n    fetchAllUsers() {\r\n      db.collection(\"users\")\r\n        .get()\r\n        .then((query) => {\r\n          query.forEach((doc) => {\r\n            const data = doc.data();\r\n            const user = data.user;\r\n            this.allUsersArr.push(user);\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.blue-button {\r\n  display: block;\r\n  width: 40%;\r\n  padding: 10px 0;\r\n  text-align: center;\r\n  background-color: rgba(41, 133, 133, 0.3);\r\n  color: white;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  border: 1px solid black;\r\n}\r\n\r\n.border {\r\n  border: 1px solid black;\r\n  border-radius: 10px;\r\n  height: 100%;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.flex {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-content: center;\r\n  justify-content: center;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 97%;\r\n  width: 80%;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin: 0px 20px;\r\n}\r\n\r\n.form-group input {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.form-group select {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}