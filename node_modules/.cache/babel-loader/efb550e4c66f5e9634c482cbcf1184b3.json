{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/thread-loader/dist/cjs.js!/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js!/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/App.vue","mtime":1680948623761},{"path":"/Users/tomo/Documents/projects/vue-diplomski/babel.config.js","mtime":1680948619828},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/thread-loader/dist/cjs.js","mtime":1680948623124},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js","mtime":1680948621002},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1680948623381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90b21vL0RvY3VtZW50cy9wcm9qZWN0cy92dWUtZGlwbG9tc2tpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUuanMiOwppbXBvcnQgeyBmaXJlYmFzZSB9IGZyb20gIkAvZmlyZWJhc2UuanMiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IHsgZGIgfSBmcm9tICJAL2ZpcmViYXNlIjsKZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikgewogIHZhciBjdXJyZW50Um91dGUgPSByb3V0ZXIuY3VycmVudFJvdXRlOwoKICBpZiAodXNlcikgewogICAgc3RvcmUuY3VycmVudFVzZXIgPSB1c2VyLmVtYWlsOwoKICAgIGlmICghY3VycmVudFJvdXRlLm1ldGEubmVlZHNVc2VyKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIHN0b3JlLmN1cnJlbnRVc2VyID0gbnVsbDsKCiAgICBpZiAoY3VycmVudFJvdXRlLm1ldGEubmVlZHNVc2VyKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgIH0pOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHN0b3JlOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB1c2Vyc1JlZjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVzZXJzUmVmID0gZGIuY29sbGVjdGlvbigidXNlcnMiKTsKICAgICAgICAgICAgICB1c2Vyc1JlZi5vblNuYXBzaG90KGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgdmFyIHVzZXJSb2xlID0gZG9jLmRhdGEoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChzdG9yZS5jdXJyZW50VXNlciA9PT0gdXNlci51c2VyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJSb2xhOwoKICAgICAgICAgICAgICAgICAgICBpZiAodXNlclJvbGUuaXNBZG1pbikgewogICAgICAgICAgICAgICAgICAgICAgdXNlclJvbGEgPSAiYWRtaW4iOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlclJvbGUuaXNUZWFtTGVhZCkgewogICAgICAgICAgICAgICAgICAgICAgdXNlclJvbGEgPSAidGVhbWxlYWQiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VyUm9sYSA9ICJ1c2VyIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,KAAA,MAAA,YAAA;AACA,SAAA,QAAA,QAAA,eAAA;AACA,OAAA,MAAA,MAAA,UAAA;AACA,SAAA,EAAA,QAAA,YAAA;AAEA,QAAA,CAAA,IAAA,GAAA,kBAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,YAAA,GAAA,MAAA,CAAA,YAAA;;AACA,MAAA,IAAA,EAAA;AACA,IAAA,KAAA,CAAA,WAAA,GAAA,IAAA,CAAA,KAAA;;AACA,QAAA,CAAA,YAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AACA,GALA,MAKA;AACA,IAAA,KAAA,CAAA,WAAA,GAAA,IAAA;;AACA,QAAA,YAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AACA;AACA,CAbA;AAeA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA,KAAA;AACA,GAHA;AAIA,EAAA,OAJA,qBAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,QADA,GACA,EAAA,CAAA,UAAA,CAAA,OAAA,CADA;AAEA,cAAA,QAAA,CAAA,UAAA,CAAA,UAAA,QAAA,EAAA;AACA,gBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,sBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,sBAAA,QAAA,GAAA,GAAA,CAAA,IAAA,EAAA;;AACA,sBAAA,KAAA,CAAA,WAAA,KAAA,IAAA,CAAA,IAAA,EAAA;AACA,wBAAA,QAAA;;AACA,wBAAA,QAAA,CAAA,OAAA,EAAA;AACA,sBAAA,QAAA,GAAA,OAAA;AACA,qBAFA,MAEA,IAAA,QAAA,CAAA,UAAA,EAAA;AACA,sBAAA,QAAA,GAAA,UAAA;AACA,qBAFA,MAEA;AACA,sBAAA,QAAA,GAAA,MAAA;AACA;AACA;AACA,iBAbA;AAcA,eAfA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,MAAA,QAAA,CACA,IADA,GAEA,OAFA,GAGA,IAHA,CAGA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OALA;AAMA;AARA;AAvBA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <nav id=\"nav\" class=\"navbar navbar-expand-lg navbar-light\">\n      <a class=\"navbar-brand\" href=\"/\"> </a>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n      >\n        <span class=\"navbar-toggler-icon\" ref_testcafe=\"hamburgerMenu\"></span>\n      </button>\n      <div class=\"flex collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"flex navbar-nav mr-auto\">\n          <li v-if=\"!currentUser\" class=\"nav-item\" ref_testcafe=\"login\">\n            <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\n          </li>\n          <li v-if=\"!currentUser\" class=\"nav-item\" ref_testcafe=\"register\">\n            <router-link class=\"nav-link\" to=\"/signup\">Signup</router-link>\n          </li>\n          <li v-if=\"currentUser\" class=\"nav-item\">\n            <a href=\"#\" @click.prevent=\"logout()\" class=\"nav-link\" ref_testcafe=\"logoutButton\">Logout</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n    <router-view />\n  </div>\n</template>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n}\n\n.flex {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: flex-end;\n}\n\n#nav {\n  padding: 30px;\n\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n    background-color: white !important;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n</style>\n\n<script>\nimport store from \"@/store.js\";\nimport { firebase } from \"@/firebase.js\";\nimport router from \"@/router\";\nimport { db } from \"@/firebase\";\n\nfirebase.auth().onAuthStateChanged((user) => {\n  const currentRoute = router.currentRoute;\n  if (user) {\n    store.currentUser = user.email;\n    if (!currentRoute.meta.needsUser) {\n      router.push({ name: \"Home\" });\n    }\n  } else {\n    store.currentUser = null;\n    if (currentRoute.meta.needsUser) {\n      router.push({ name: \"Login\" });\n    }\n  }\n});\n\nexport default {\n  data() {\n    return store;\n  },\n  async created() {\n    const usersRef = db.collection(\"users\");\n    usersRef.onSnapshot((snapshot) => {\n      snapshot.forEach((doc) => {\n        const user = doc.data();\n        const userRole = doc.data();\n        if (store.currentUser === user.user) {\n          let userRola;\n          if (userRole.isAdmin) {\n            userRola = \"admin\";\n          } else if (userRole.isTeamLead) {\n            userRola = \"teamlead\";\n          } else {\n            userRola = \"user\";\n          }\n        }\n      });\n    });\n  },\n  methods: {\n    logout() {\n      firebase\n        .auth()\n        .signOut()\n        .then(() => {\n          this.$router.push({ name: \"Login\" });\n        });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src"}]}