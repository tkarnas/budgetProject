{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js!/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue","mtime":1680974752908},{"path":"/Users/tomo/Documents/projects/vue-diplomski/babel.config.js","mtime":1680948619828},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js","mtime":1680948621002},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1680948623381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy90b21vL0RvY3VtZW50cy9wcm9qZWN0cy92dWUtZGlwbG9tc2tpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFByb2plY3RGb3JtIGZyb20gIi4uL2NvbXBvbmVudHMvUHJvamVjdEZvcm0udnVlIjsKaW1wb3J0IFByb2plY3RzIGZyb20gIi4uL2NvbXBvbmVudHMvUHJvamVjdHMudnVlIjsKaW1wb3J0IHsgZGIgfSBmcm9tICJAL2ZpcmViYXNlIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRlYW1zIiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9qZWN0czogUHJvamVjdHMsCiAgICBQcm9qZWN0Rm9ybTogUHJvamVjdEZvcm0KICB9LAogIHByb3BzOiBbImlzQWRtaW4iLCAiaXNUZWFtTGVhZCIsICJpc1VzZXIiLCAidGVhbXNBcnIiLCAicmlnaHRzIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vUHJvamVjdHNNb2RhbDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2lnbmVkVXNlcjogZnVuY3Rpb24gc2lnbmVkVXNlcigpIHsKICAgICAgcmV0dXJuIHN0b3JlLmN1cnJlbnRVc2VyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXNlckNhblNlZTogZnVuY3Rpb24gdXNlckNhblNlZSh0ZWFtKSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0ZWFtLnByb2plY3RzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHByb2plY3QgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb2plY3QucGVvcGxlKSwKICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgcGVwID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgICBpZiAocGVwID09PSB0aGlzLnNpZ25lZFVzZXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93Tm9Qcm9qZWN0c1dpbmRvdzogZnVuY3Rpb24gc2hvd05vUHJvamVjdHNXaW5kb3coKSB7CiAgICAgIHRoaXMubm9Qcm9qZWN0c01vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRUZWFtczogZnVuY3Rpb24gZ2V0VGVhbXMoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbGwtZ2V0LXRlYW1zIik7CiAgICB9LAogICAgdGVhbUxlYWRDYW5TZWU6IGZ1bmN0aW9uIHRlYW1MZWFkQ2FuU2VlKHRlYW0pIHsKICAgICAgaWYgKHRoaXMucmlnaHRzID09PSAiQWRtaW4iKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0ZWFtLnRlYW1sZWFkICE9PSBudWxsICYmIHRlYW0udGVhbWxlYWQgPT09IHRoaXMuc2lnbmVkVXNlcikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IC8vIGlmICh0aGlzLnJpZ2h0cyA9PT0gIlRlYW0gTGVhZCIgJiYgdGVhbS50ZWFtbGVhZCA9PT0gdGhpcy5zaWduZWRVc2VyKSB7CiAgICAgIC8vICAgcmV0dXJuIHRydWU7CiAgICAgIC8vIH0KCgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgc3BlbnRNb25leTogZnVuY3Rpb24gc3BlbnRNb25leSh0ZWFtKSB7CiAgICAgIHZhciBzcGVudE1vbmV5ID0gMDsKCiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGVhbS5wcm9qZWN0cyksCiAgICAgICAgICBfc3RlcDM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcHJvamVjdCA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICBpZiAocHJvamVjdCAmJiBwcm9qZWN0LmV4cGVuc2VzICYmIHByb2plY3QuZXhwZW5zZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvamVjdC5leHBlbnNlcyksCiAgICAgICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgc3BlbnQgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICAgICAgICBzcGVudE1vbmV5ICs9IHNwZW50LmFtb3VudDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNwZW50TW9uZXk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Teams.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,WAAA,MAAA,+BAAA;AACA,OAAA,QAAA,MAAA,4BAAA;AACA,SAAA,EAAA,QAAA,YAAA;AACA,OAAA,KAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,YAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,CANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,CAAA,WAAA;AACA;AAHA,GAZA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EAEA;AAAA,iDACA,IAAA,CAAA,QADA;AAAA;;AAAA;AACA,4DAAA;AAAA,cAAA,OAAA;;AAAA,sDACA,OAAA,CAAA,MADA;AAAA;;AAAA;AACA,mEAAA;AAAA,kBAAA,GAAA;;AACA,kBAAA,GAAA,KAAA,KAAA,UAAA,EAAA;AACA,uBAAA,IAAA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAMA;AAPA;AAAA;AAAA;AAAA;AAAA;AAQA,KAVA;AAWA,IAAA,oBAXA,kCAWA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,KAbA;AAcA,IAAA,QAdA,sBAcA;AACA,WAAA,KAAA,CAAA,gBAAA;AACA,KAhBA;AAiBA,IAAA,cAjBA,0BAiBA,IAjBA,EAiBA;AACA,UAAA,KAAA,MAAA,KAAA,OAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,UAAA,IAAA,CAAA,QAAA,KAAA,IAAA,IAAA,IAAA,CAAA,QAAA,KAAA,KAAA,UAAA,EAAA;AACA,eAAA,IAAA;AACA,OANA,CAOA;AACA;AACA;;;AACA,aAAA,KAAA;AACA,KA5BA;AA6BA,IAAA,UA7BA,sBA6BA,IA7BA,EA6BA;AACA,UAAA,UAAA,GAAA,CAAA;;AADA,kDAEA,IAAA,CAAA,QAFA;AAAA;;AAAA;AAEA,+DAAA;AAAA,cAAA,OAAA;;AACA,cAAA,OAAA,IAAA,OAAA,CAAA,QAAA,IAAA,OAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AAAA,wDACA,OAAA,CAAA,QADA;AAAA;;AAAA;AACA,qEAAA;AAAA,oBAAA,KAAA;AACA,gBAAA,UAAA,IAAA,KAAA,CAAA,MAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;;AASA,aAAA,UAAA;AACA;AAvCA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!-- // check -->\r\n    <div v-if=\"(isAdmin || isTeamLead || isUser) && !noProjectsModal\">\r\n      <div class=\"teams-container\" v-for=\"(team, teamIndex) in teamsArr\" :key=\"teamIndex\">\r\n        <div class=\"team\" v-if=\"teamLeadCanSee(team) || userCanSee(team)\">\r\n          <h3 v-if=\"isAdmin || isTeamLead\">\r\n            {{ team.teamName }} - Budget is {{ team.teamBudget }} €\r\n            <s v-if=\"spentMoney(team) !== 0\">{{ spentMoney(team) }} €</s>\r\n          </h3>\r\n          <h3 v-if=\"(isAdmin || isTeamLead) && team.teamlead !== ''\">\r\n            Teamlead is {{ team.teamlead }}\r\n          </h3>\r\n          <h3 v-else-if=\"(isAdmin || isTeamLead) && team.teamlead === ''\">\r\n            There is no teamlead currently\r\n          </h3>\r\n          <ProjectForm @call-get-teams=\"getTeams\" :isAdmin=\"isAdmin\" :isTeamLead=\"isTeamLead\" :isUser=\"isUser\" :team=\"team\"></ProjectForm>\r\n          <Projects\r\n            :teamIndex=\"teamIndex\"\r\n            :teams=\"teamsArr\"\r\n            :rights=\"rights\"\r\n            :isAdmin=\"isAdmin\"\r\n            :isTeamLead=\"isTeamLead\"\r\n            :isUser=\"isUser\"\r\n            :team=\"team\"\r\n            @call-get-teams=\"getTeams\"\r\n            @no-projects=\"showNoProjectsWindow\"\r\n          ></Projects>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"teams-container\" v-if=\"noProjectsModal\">\r\n      Currently there is no projects or teams for you to see, contact\r\n      administrators.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProjectForm from \"../components/ProjectForm.vue\";\r\nimport Projects from \"../components/Projects.vue\";\r\nimport { db } from \"@/firebase\";\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n  name: \"Teams\",\r\n  components: {\r\n    Projects,\r\n    ProjectForm,\r\n  },\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"teamsArr\", \"rights\"],\r\n  data() {\r\n    return {\r\n      noProjectsModal: false,\r\n    };\r\n  },\r\n  computed: {\r\n    signedUser() {\r\n      return store.currentUser;\r\n    },\r\n  },\r\n  methods: {\r\n    userCanSee(team)\r\n    {\r\n      for (const project of team.projects){\r\n        for(const pep of project.people){\r\n          if (pep === this.signedUser){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    showNoProjectsWindow() {\r\n      this.noProjectsModal = true;\r\n    },\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    teamLeadCanSee(team) {\r\n      if (this.rights === \"Admin\") {\r\n        return true;\r\n      }\r\n      if (team.teamlead !== null && team.teamlead === this.signedUser) {\r\n        return true;\r\n      }\r\n      // if (this.rights === \"Team Lead\" && team.teamlead === this.signedUser) {\r\n      //   return true;\r\n      // }\r\n      return false;\r\n    },\r\n    spentMoney(team) {\r\n      let spentMoney = 0;\r\n      for (const project of team.projects) {\r\n        if (project && project.expenses && project.expenses.length) {\r\n          for (const spent of project.expenses) {\r\n            spentMoney += spent.amount;\r\n          }\r\n        }\r\n      }\r\n      return spentMoney;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.teams-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: row;\r\n  align-items: start;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.team {\r\n  margin-right: 20px;\r\n  margin-bottom: 20px;\r\n  background-color: rgba(0, 0, 0, 0.025);\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  width: 40%;\r\n  padding: 20px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}