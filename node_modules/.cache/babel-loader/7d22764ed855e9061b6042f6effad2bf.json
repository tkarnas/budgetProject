{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js!/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue","mtime":1676484598000},{"path":"/Users/tomo/Documents/projects/vue-diplomski/babel.config.js","mtime":1676484598000},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1675708578000},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js","mtime":1675708564000},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1675708578000},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1675708910000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy90b21vL0RvY3VtZW50cy9wcm9qZWN0cy92dWUtZGlwbG9tc2tpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFByb2plY3RGb3JtIGZyb20gIi4uL2NvbXBvbmVudHMvUHJvamVjdEZvcm0udnVlIjsKaW1wb3J0IFByb2plY3RzIGZyb20gIi4uL2NvbXBvbmVudHMvUHJvamVjdHMudnVlIjsKaW1wb3J0IHsgZGIgfSBmcm9tICJAL2ZpcmViYXNlIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRlYW1zIiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9qZWN0czogUHJvamVjdHMsCiAgICBQcm9qZWN0Rm9ybTogUHJvamVjdEZvcm0KICB9LAogIHByb3BzOiBbImlzQWRtaW4iLCAiaXNUZWFtTGVhZCIsICJpc1VzZXIiLCAidGVhbXNBcnIiLCAicmlnaHRzIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vUHJvamVjdHNNb2RhbDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2lnbmVkVXNlcjogZnVuY3Rpb24gc2lnbmVkVXNlcigpIHsKICAgICAgcmV0dXJuIHN0b3JlLmN1cnJlbnRVc2VyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hvd05vUHJvamVjdHNXaW5kb3c6IGZ1bmN0aW9uIHNob3dOb1Byb2plY3RzV2luZG93KCkgewogICAgICB0aGlzLm5vUHJvamVjdHNNb2RhbCA9IHRydWU7CiAgICB9LAogICAgZ2V0VGVhbXM6IGZ1bmN0aW9uIGdldFRlYW1zKCkgewogICAgICB0aGlzLiRlbWl0KCJjYWxsLWdldC10ZWFtcyIpOwogICAgfSwKICAgIHRlYW1MZWFkQ2FuU2VlOiBmdW5jdGlvbiB0ZWFtTGVhZENhblNlZSh0ZWFtKSB7CiAgICAgIGlmICh0aGlzLnJpZ2h0cyA9PT0gIkFkbWluIikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBpZiAodGVhbS50ZWFtbGVhZCAhPT0gbnVsbCAmJiB0ZWFtLnRlYW1sZWFkID09PSB0aGlzLnNpZ25lZFVzZXIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSAvLyBpZiAodGhpcy5yaWdodHMgPT09ICJUZWFtIExlYWQiICYmIHRlYW0udGVhbWxlYWQgPT09IHRoaXMuc2lnbmVkVXNlcikgewogICAgICAvLyAgIHJldHVybiB0cnVlOwogICAgICAvLyB9CgoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIHNwZW50TW9uZXk6IGZ1bmN0aW9uIHNwZW50TW9uZXkodGVhbSkgewogICAgICB2YXIgc3BlbnRNb25leSA9IDA7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGVhbS5wcm9qZWN0cyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwcm9qZWN0ID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5leHBlbnNlcyAmJiBwcm9qZWN0LmV4cGVuc2VzLmxlbmd0aCkgewogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb2plY3QuZXhwZW5zZXMpLAogICAgICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIHNwZW50ID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICAgICAgc3BlbnRNb25leSArPSBzcGVudC5hbW91bnQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gc3BlbnRNb25leTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Teams.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,WAAA,MAAA,+BAAA;AACA,OAAA,QAAA,MAAA,4BAAA;AACA,SAAA,EAAA,QAAA,YAAA;AACA,OAAA,KAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,YAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,CANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,CAAA,WAAA;AACA;AAHA,GAZA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,oBADA,kCACA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,WAAA,KAAA,CAAA,gBAAA;AACA,KANA;AAOA,IAAA,cAPA,0BAOA,IAPA,EAOA;AACA,UAAA,KAAA,MAAA,KAAA,OAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,UAAA,IAAA,CAAA,QAAA,KAAA,IAAA,IAAA,IAAA,CAAA,QAAA,KAAA,KAAA,UAAA,EAAA;AACA,eAAA,IAAA;AACA,OANA,CAOA;AACA;AACA;;;AACA,aAAA,KAAA;AACA,KAlBA;AAmBA,IAAA,UAnBA,sBAmBA,IAnBA,EAmBA;AACA,UAAA,UAAA,GAAA,CAAA;;AADA,iDAEA,IAAA,CAAA,QAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,OAAA;;AACA,cAAA,OAAA,IAAA,OAAA,CAAA,QAAA,IAAA,OAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AAAA,wDACA,OAAA,CAAA,QADA;AAAA;;AAAA;AACA,qEAAA;AAAA,oBAAA,KAAA;AACA,gBAAA,UAAA,IAAA,KAAA,CAAA,MAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;;AASA,aAAA,UAAA;AACA;AA7BA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!-- // check -->\r\n    <div class=\"teams-container\" v-if=\"(isAdmin || isTeamLead || isUser) && !noProjectsModal\">\r\n      <div class=\"team\" v-for=\"(team, teamIndex) in teamsArr\" :key=\"teamIndex\">\r\n        <div v-if=\"teamLeadCanSee(team) || isUser\">\r\n          <h3 v-if=\"isAdmin || isTeamLead\">\r\n            {{ team.teamName }} - Budget is {{ team.teamBudget }} €\r\n            <s v-if=\"spentMoney(team) !== 0\">{{ spentMoney(team) }} €</s>\r\n          </h3>\r\n          <h3 v-if=\"(isAdmin || isTeamLead) && team.teamlead !== ''\">\r\n            Teamlead is {{ team.teamlead }}\r\n          </h3>\r\n          <h3 v-else-if=\"(isAdmin || isTeamLead) && team.teamlead === ''\">\r\n            There is no teamlead currently\r\n          </h3>\r\n          <ProjectForm @call-get-teams=\"getTeams\" :isAdmin=\"isAdmin\" :isTeamLead=\"isTeamLead\" :isUser=\"isUser\" :team=\"team\"></ProjectForm>\r\n        </div>\r\n        <Projects\r\n          :teamIndex=\"teamIndex\"\r\n          :teams=\"teamsArr\"\r\n          :rights=\"rights\"\r\n          :isAdmin=\"isAdmin\"\r\n          :isTeamLead=\"isTeamLead\"\r\n          :isUser=\"isUser\"\r\n          :team=\"team\"\r\n          @call-get-teams=\"getTeams\"\r\n          @no-projects=\"showNoProjectsWindow\"\r\n        ></Projects>\r\n      </div>\r\n    </div>\r\n    <div class=\"teams-container\" v-if=\"noProjectsModal\">\r\n      Currently there is no projects or teams for you to see, contact\r\n      administrators.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProjectForm from \"../components/ProjectForm.vue\";\r\nimport Projects from \"../components/Projects.vue\";\r\nimport { db } from \"@/firebase\";\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n  name: \"Teams\",\r\n  components: {\r\n    Projects,\r\n    ProjectForm,\r\n  },\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"teamsArr\", \"rights\"],\r\n  data() {\r\n    return {\r\n      noProjectsModal: false,\r\n    };\r\n  },\r\n  computed: {\r\n    signedUser() {\r\n      return store.currentUser;\r\n    },\r\n  },\r\n  methods: {\r\n    showNoProjectsWindow() {\r\n      this.noProjectsModal = true;\r\n    },\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    teamLeadCanSee(team) {\r\n      if (this.rights === \"Admin\") {\r\n        return true;\r\n      }\r\n      if (team.teamlead !== null && team.teamlead === this.signedUser) {\r\n        return true;\r\n      }\r\n      // if (this.rights === \"Team Lead\" && team.teamlead === this.signedUser) {\r\n      //   return true;\r\n      // }\r\n      return false;\r\n    },\r\n    spentMoney(team) {\r\n      let spentMoney = 0;\r\n      for (const project of team.projects) {\r\n        if (project && project.expenses && project.expenses.length) {\r\n          for (const spent of project.expenses) {\r\n            spentMoney += spent.amount;\r\n          }\r\n        }\r\n      }\r\n      return spentMoney;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.teams-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: row;\r\n  align-items: start;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.team {\r\n  margin-right: 20px;\r\n  margin-bottom: 20px;\r\n  background-color: rgba(0, 0, 0, 0.025);\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  width: 40%;\r\n  padding: 20px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}