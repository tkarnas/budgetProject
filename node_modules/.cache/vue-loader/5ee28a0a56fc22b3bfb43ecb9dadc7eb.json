{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/components/ProjectForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/components/ProjectForm.vue","mtime":1680973059644},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js","mtime":1680948621002},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1680948623381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkYiB9IGZyb20gIkAvZmlyZWJhc2UiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQcm9qZWN0Rm9ybSIsDQogIHByb3BzOiBbImlzQWRtaW4iLCAiaXNUZWFtTGVhZCIsICJpc1VzZXIiLCAidGVhbSJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwcm9qZWN0TmFtZTogIiIsDQogICAgICBwcm9qZWN0QnVkZ2V0OiBudWxsLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6DQogIHsNCiAgICBnZXRUZWFtcygpIHsNCiAgICAgIHRoaXMuJGVtaXQoImNhbGwtZ2V0LXRlYW1zIik7DQogICAgfSwNCiAgICBhc3luYyBhZGRQcm9qZWN0KHRlYW0pIHsNCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSAhPSBudWxsICYmDQogICAgICAgIHRoaXMucHJvamVjdEJ1ZGdldCAhPSBudWxsICYmDQogICAgICAgIHRoaXMucHJvamVjdE5hbWUgIT0gIiIgJiYNCiAgICAgICAgdGhpcy5wcm9qZWN0QnVkZ2V0ICE9ICIiDQogICAgICApIHsNCiAgICAgICAgaWYgKHR5cGVvZiBwYXJzZUludCh0aGlzLnByb2plY3RCdWRnZXQsIDEwKSA9PT0gIm51bWJlciIpIHsNCiAgICAgICAgICBpZiAocGFyc2VJbnQodGhpcy5wcm9qZWN0QnVkZ2V0LCAxMCkgPiB0ZWFtLnRlYW1CdWRnZXQpIHsNCiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KCJOdW1iZXIgb3ZlciB0aGUgYnVkZ2V0IiwgIldhcm5pbmciLCAid2FybmluZyIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgcHJvamVjdEFscmVhZHlMb3N0ID0gMDsNCiAgICAgICAgICBmb3IgKGNvbnN0IHByb2plY3Qgb2YgdGVhbS5wcm9qZWN0cykgew0KICAgICAgICAgICAgcHJvamVjdEFscmVhZHlMb3N0ICs9IHBhcnNlSW50KHByb2plY3QucHJvamVjdEJ1ZGdldCwgMTApOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICBwcm9qZWN0QWxyZWFkeUxvc3QgKyBwYXJzZUludCh0aGlzLnByb2plY3RCdWRnZXQsIDEwKSA+DQogICAgICAgICAgICB0ZWFtLnRlYW1CdWRnZXQNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KCJpbnN1ZmZpY2llbnQgZnVuZHMiLCAiV2FybmluZyIsICJ3YXJuaW5nIik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KDQogICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKQ0KICAgICAgICAgICAgLndoZXJlKCJuYW1lIiwgIj09IiwgdGVhbS50ZWFtTmFtZSkNCiAgICAgICAgICAgIC53aGVyZSgiYnVkZ2V0IiwgIj09IiwgdGVhbS50ZWFtQnVkZ2V0KQ0KICAgICAgICAgICAgLmdldCgpDQogICAgICAgICAgICAudGhlbigoc25hcHNob3QpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGRvYy5pZDsNCiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdHMgPSBkb2MuZGF0YSgpLnByb2plY3RzOw0KICAgICAgICAgICAgICAgIHByb2plY3RzLnB1c2goew0KICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IHRoaXMucHJvamVjdE5hbWUsDQogICAgICAgICAgICAgICAgICBwcm9qZWN0QnVkZ2V0OiB0aGlzLnByb2plY3RCdWRnZXQsDQogICAgICAgICAgICAgICAgICBleHBlbnNlczogW10sDQogICAgICAgICAgICAgICAgICBwZW9wbGU6IFtdLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikNCiAgICAgICAgICAgICAgICAgIC5kb2MocHJvamVjdElkKQ0KICAgICAgICAgICAgICAgICAgLnVwZGF0ZSh7DQogICAgICAgICAgICAgICAgICAgIHByb2plY3RzOiBwcm9qZWN0cywNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlYW0gJiYgdGhpcy50ZWFtLnRlYW1sZWFkKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikNCiAgICAgICAgICAgICAgICAgIC5nZXQoKQ0KICAgICAgICAgICAgICAgICAgLnRoZW4oKHNuYXBzaG90KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgew0KICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiZXJyb3IiKTsNCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVhbSA9IGRvYy5kYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVhbUlkID0gZG9jLmlkOw0KICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiB0ZWFtLnByb2plY3RzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3QucHJvamVjdE5hbWUgPT09DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0LnByb2plY3RCdWRnZXQgPT09DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0QnVkZ2V0DQogICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEluZGV4ID0gdGVhbS5wcm9qZWN0cy5pbmRleE9mKHByb2plY3QpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZG9jKHRlYW1JZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoZG9jKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVGVhbSA9IGRvYy5kYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVGVhbS5wcm9qZWN0c1twcm9qZWN0SW5kZXhdLnBlb3BsZS5wdXNoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlYW0udGVhbWxlYWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInRlYW1zIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvYyh0ZWFtSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXQodXBkYXRlZFRlYW0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLiRhbGVydCgiQWRkZWQiLCAiU3VjY2VzcyIsICJzdWNjZXNzIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGVhbXMoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUZWFtcygpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRhbGVydCgNCiAgICAgICAgICAgICAgICAgICAgICBgTmV3IHByb2plY3QgJHt0aGlzLnByb2plY3ROYW1lfSBhZGRlZGAsDQogICAgICAgICAgICAgICAgICAgICAgIlN1Y2Nlc3MiLA0KICAgICAgICAgICAgICAgICAgICAgICJzdWNjZXNzIg0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2plY3ROYW1lID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0QnVkZ2V0ID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7DQogICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBhZGRpbmcgcHJvamVjdDoiLCBlcnJvcik7DQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBnZXR0aW5nIHRlYW06IiwgZXJyb3IpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kYWxlcnQoIkJ1ZGdldCBuZWVkcyB0byBiZSBudW1iZXIiLCAiV2FybmluZyIsICJ3YXJuaW5nIik7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJGFsZXJ0KCJDYW50IHN1Ym1pdCBlbXB0eSBmaWVsZHMiLCAiV2FybmluZyIsICJ3YXJuaW5nIik7DQogICAgICB9DQogICAgfSwNCiAgICBkZWxldGVUZWFtKHRlYW0pIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oIkFyZSB5b3Ugc3VyZT8iKS50aGVuKCgpID0+IHsNCiAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKQ0KICAgICAgICAgIC5nZXQoKQ0KICAgICAgICAgIC50aGVuKChxdWVyeSkgPT4gew0KICAgICAgICAgICAgcXVlcnkuZm9yRWFjaCgoZG9jKSA9PiB7DQogICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpOw0KICAgICAgICAgICAgICBjb25zdCBpZCA9IGRvYy5pZDsNCiAgICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgIGRhdGEubmFtZSA9PT0gdGVhbS50ZWFtTmFtZSAmJg0KICAgICAgICAgICAgICAgIGRhdGEuYnVkZ2V0ID09PSB0ZWFtLnRlYW1CdWRnZXQNCiAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigidGVhbXMiKQ0KICAgICAgICAgICAgICAgICAgLmRvYyhpZCkNCiAgICAgICAgICAgICAgICAgIC5kZWxldGUoKQ0KICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRhbGVydCgNCiAgICAgICAgICAgICAgICAgICAgICBgVGVhbSAke3RlYW0udGVhbU5hbWV9IGRlbGV0ZWRgLA0KICAgICAgICAgICAgICAgICAgICAgICJTdWNjZXNzIiwNCiAgICAgICAgICAgICAgICAgICAgICAic3VjY2VzcyINCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRUZWFtcygpOw0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgcmVtb3ZpbmcgdGVhbTogIiwgZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["ProjectForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProjectForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <form v-if=\"isAdmin || isTeamLead\">\r\n        <div class=\"form-group\" ref_testcafe=\"addProjectForm\">\r\n            <label for=\"projectName\">Project Name</label>\r\n            <input\r\n            type=\"text\"\r\n            id=\"projectName\"\r\n            v-model=\"projectName\"\r\n            placeholder=\"Enter project name\"\r\n            />\r\n            <label for=\"projectBudget\">Project budget</label>\r\n            <input\r\n            type=\"number\"\r\n            id=\"projectBudget\"\r\n            v-model=\"projectBudget\"\r\n            placeholder=\"Enter project budget\"\r\n            />\r\n        </div>\r\n        <button\r\n            class=\"blue-button\"\r\n            type=\"submit\"\r\n            @click.prevent=\"addProject(team)\"\r\n            ref_testcafe=\"submitAddProjectButton\"\r\n        >\r\n            Add Project\r\n        </button>\r\n        <button\r\n            class=\"red-button\"\r\n            type=\"submit\"\r\n            v-if=\"isAdmin\"\r\n            @click.prevent=\"deleteTeam(team)\"\r\n        >\r\n            Delete Team\r\n        </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db } from \"@/firebase\";\r\n\r\nexport default {\r\n  name: \"ProjectForm\",\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"team\"],\r\n  data() {\r\n    return {\r\n      projectName: \"\",\r\n      projectBudget: null,\r\n    };\r\n  },\r\n  methods:\r\n  {\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    async addProject(team) {\r\n      if (\r\n        this.projectName != null &&\r\n        this.projectBudget != null &&\r\n        this.projectName != \"\" &&\r\n        this.projectBudget != \"\"\r\n      ) {\r\n        if (typeof parseInt(this.projectBudget, 10) === \"number\") {\r\n          if (parseInt(this.projectBudget, 10) > team.teamBudget) {\r\n            this.$alert(\"Number over the budget\", \"Warning\", \"warning\");\r\n            return;\r\n          }\r\n          let projectAlreadyLost = 0;\r\n          for (const project of team.projects) {\r\n            projectAlreadyLost += parseInt(project.projectBudget, 10);\r\n          }\r\n          if (\r\n            projectAlreadyLost + parseInt(this.projectBudget, 10) >\r\n            team.teamBudget\r\n          ) {\r\n            this.$alert(\"insufficient funds\", \"Warning\", \"warning\");\r\n            return;\r\n          }\r\n\r\n          db.collection(\"teams\")\r\n            .where(\"name\", \"==\", team.teamName)\r\n            .where(\"budget\", \"==\", team.teamBudget)\r\n            .get()\r\n            .then((snapshot) => {\r\n              if (snapshot.empty) {\r\n                return;\r\n              }\r\n              snapshot.forEach((doc) => {\r\n                const projectId = doc.id;\r\n                let projects = doc.data().projects;\r\n                projects.push({\r\n                  projectName: this.projectName,\r\n                  projectBudget: this.projectBudget,\r\n                  expenses: [],\r\n                  people: [],\r\n                });\r\n                db.collection(\"teams\")\r\n                  .doc(projectId)\r\n                  .update({\r\n                    projects: projects,\r\n                  })\r\n                  .then(() => {\r\n                    if (this.team && this.team.teamlead)\r\n                    {\r\n                      \r\n                    db.collection(\"teams\")\r\n                  .get()\r\n                  .then((snapshot) => {\r\n                    if (snapshot.empty) {\r\n                      console.warn(\"error\");\r\n                      return;\r\n                    }\r\n                    snapshot.forEach((doc) => {\r\n                      const team = doc.data();\r\n                      const teamId = doc.id;\r\n                      for (const project of team.projects) {\r\n                        if (\r\n                          project.projectName ===\r\n                            this.projectName &&\r\n                          project.projectBudget ===\r\n                            this.projectBudget\r\n                        ) {\r\n                          const projectIndex = team.projects.indexOf(project);\r\n\r\n                          db.collection(\"teams\")\r\n                            .doc(teamId)\r\n                            .get()\r\n                            .then((doc) => {\r\n                              const updatedTeam = doc.data();\r\n                              updatedTeam.projects[projectIndex].people.push(\r\n                                this.team.teamlead\r\n                              );\r\n\r\n                              db.collection(\"teams\")\r\n                                .doc(teamId)\r\n                                .set(updatedTeam);\r\n                                // this.$alert(\"Added\", \"Success\", \"success\");\r\n                                this.getTeams()\r\n                            });\r\n                        }\r\n                      }\r\n                    });\r\n                  });\r\n                    }\r\n                  })\r\n                  .then(() => {\r\n                    this.getTeams();\r\n                    this.$alert(\r\n                      `New project ${this.projectName} added`,\r\n                      \"Success\",\r\n                      \"success\"\r\n                    );\r\n                    setTimeout(() => {\r\n                      this.projectName = \"\";\r\n                      this.projectBudget = \"\";\r\n                      \r\n                    }, 500);\r\n                  })\r\n                  .catch((error) => {\r\n                    console.error(\"Error adding project:\", error);\r\n                  });\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Error getting team:\", error);\r\n            });\r\n        } else {\r\n          this.$alert(\"Budget needs to be number\", \"Warning\", \"warning\");\r\n        }\r\n      } else {\r\n        this.$alert(\"Cant submit empty fields\", \"Warning\", \"warning\");\r\n      }\r\n    },\r\n    deleteTeam(team) {\r\n      this.$confirm(\"Are you sure?\").then(() => {\r\n        db.collection(\"teams\")\r\n          .get()\r\n          .then((query) => {\r\n            query.forEach((doc) => {\r\n              const data = doc.data();\r\n              const id = doc.id;\r\n              if (\r\n                data.name === team.teamName &&\r\n                data.budget === team.teamBudget\r\n              ) {\r\n                db.collection(\"teams\")\r\n                  .doc(id)\r\n                  .delete()\r\n                  .then(() => {\r\n                    this.$alert(\r\n                      `Team ${team.teamName} deleted`,\r\n                      \"Success\",\r\n                      \"success\"\r\n                    );\r\n                    this.getTeams();\r\n                  })\r\n                  .catch((error) => {\r\n                    console.error(\"Error removing team: \", error);\r\n                  });\r\n              }\r\n            });\r\n          });\r\n      });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin: 0px 20px;\r\n}\r\n\r\n.form-group input {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.form-group select {\r\n  display: block;\r\n  width: 30%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.blue-button {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: rgba(41, 133, 133, 0.3);\r\n  color: black;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  border: 1px solid black;\r\n}\r\n\r\n.red-button {\r\n  display: block;\r\n  width: 40%;\r\n  background-color: rgba(255, 0, 0, 0.25);\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-top: 2px;\r\n  border: 1px solid black;\r\n}\r\n</style>"]}]}