{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue?vue&type=style&index=0&id=354faa94&scoped=true&lang=css&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue","mtime":1680974752908},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/css-loader/dist/cjs.js","mtime":1680948621394},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1680948623381},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/postcss-loader/src/index.js","mtime":1680948622442},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1680948623381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoudGVhbXMtY29udGFpbmVyIHsNCiAgZGlzcGxheTogZmxleDsNCiAgd2lkdGg6IDEwMCU7DQogIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogIGFsaWduLWl0ZW1zOiBzdGFydDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGZsZXgtd3JhcDogd3JhcDsNCn0NCg0KLnRlYW0gew0KICBtYXJnaW4tcmlnaHQ6IDIwcHg7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wMjUpOw0KICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIHdpZHRoOiA0MCU7DQogIHBhZGRpbmc6IDIwcHg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0K"},{"version":3,"sources":["Teams.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Teams.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <!-- // check -->\r\n    <div v-if=\"(isAdmin || isTeamLead || isUser) && !noProjectsModal\">\r\n      <div class=\"teams-container\" v-for=\"(team, teamIndex) in teamsArr\" :key=\"teamIndex\">\r\n        <div class=\"team\" v-if=\"teamLeadCanSee(team) || userCanSee(team)\">\r\n          <h3 v-if=\"isAdmin || isTeamLead\">\r\n            {{ team.teamName }} - Budget is {{ team.teamBudget }} €\r\n            <s v-if=\"spentMoney(team) !== 0\">{{ spentMoney(team) }} €</s>\r\n          </h3>\r\n          <h3 v-if=\"(isAdmin || isTeamLead) && team.teamlead !== ''\">\r\n            Teamlead is {{ team.teamlead }}\r\n          </h3>\r\n          <h3 v-else-if=\"(isAdmin || isTeamLead) && team.teamlead === ''\">\r\n            There is no teamlead currently\r\n          </h3>\r\n          <ProjectForm @call-get-teams=\"getTeams\" :isAdmin=\"isAdmin\" :isTeamLead=\"isTeamLead\" :isUser=\"isUser\" :team=\"team\"></ProjectForm>\r\n          <Projects\r\n            :teamIndex=\"teamIndex\"\r\n            :teams=\"teamsArr\"\r\n            :rights=\"rights\"\r\n            :isAdmin=\"isAdmin\"\r\n            :isTeamLead=\"isTeamLead\"\r\n            :isUser=\"isUser\"\r\n            :team=\"team\"\r\n            @call-get-teams=\"getTeams\"\r\n            @no-projects=\"showNoProjectsWindow\"\r\n          ></Projects>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"teams-container\" v-if=\"noProjectsModal\">\r\n      Currently there is no projects or teams for you to see, contact\r\n      administrators.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProjectForm from \"../components/ProjectForm.vue\";\r\nimport Projects from \"../components/Projects.vue\";\r\nimport { db } from \"@/firebase\";\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n  name: \"Teams\",\r\n  components: {\r\n    Projects,\r\n    ProjectForm,\r\n  },\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"teamsArr\", \"rights\"],\r\n  data() {\r\n    return {\r\n      noProjectsModal: false,\r\n    };\r\n  },\r\n  computed: {\r\n    signedUser() {\r\n      return store.currentUser;\r\n    },\r\n  },\r\n  methods: {\r\n    userCanSee(team)\r\n    {\r\n      for (const project of team.projects){\r\n        for(const pep of project.people){\r\n          if (pep === this.signedUser){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    showNoProjectsWindow() {\r\n      this.noProjectsModal = true;\r\n    },\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    teamLeadCanSee(team) {\r\n      if (this.rights === \"Admin\") {\r\n        return true;\r\n      }\r\n      if (team.teamlead !== null && team.teamlead === this.signedUser) {\r\n        return true;\r\n      }\r\n      // if (this.rights === \"Team Lead\" && team.teamlead === this.signedUser) {\r\n      //   return true;\r\n      // }\r\n      return false;\r\n    },\r\n    spentMoney(team) {\r\n      let spentMoney = 0;\r\n      for (const project of team.projects) {\r\n        if (project && project.expenses && project.expenses.length) {\r\n          for (const spent of project.expenses) {\r\n            spentMoney += spent.amount;\r\n          }\r\n        }\r\n      }\r\n      return spentMoney;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.teams-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: row;\r\n  align-items: start;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.team {\r\n  margin-right: 20px;\r\n  margin-bottom: 20px;\r\n  background-color: rgba(0, 0, 0, 0.025);\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  width: 40%;\r\n  padding: 20px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>"]}]}