{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/components/Teams.vue","mtime":1680948623761},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/babel-loader/lib/index.js","mtime":1680948621002},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1680948623381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUHJvamVjdEZvcm0gZnJvbSAiLi4vY29tcG9uZW50cy9Qcm9qZWN0Rm9ybS52dWUiOw0KaW1wb3J0IFByb2plY3RzIGZyb20gIi4uL2NvbXBvbmVudHMvUHJvamVjdHMudnVlIjsNCmltcG9ydCB7IGRiIH0gZnJvbSAiQC9maXJlYmFzZSI7DQppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZS5qcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlRlYW1zIiwNCiAgY29tcG9uZW50czogew0KICAgIFByb2plY3RzLA0KICAgIFByb2plY3RGb3JtLA0KICB9LA0KICBwcm9wczogWyJpc0FkbWluIiwgImlzVGVhbUxlYWQiLCAiaXNVc2VyIiwgInRlYW1zQXJyIiwgInJpZ2h0cyJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBub1Byb2plY3RzTW9kYWw6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgc2lnbmVkVXNlcigpIHsNCiAgICAgIHJldHVybiBzdG9yZS5jdXJyZW50VXNlcjsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2hvd05vUHJvamVjdHNXaW5kb3coKSB7DQogICAgICB0aGlzLm5vUHJvamVjdHNNb2RhbCA9IHRydWU7DQogICAgfSwNCiAgICBnZXRUZWFtcygpIHsNCiAgICAgIHRoaXMuJGVtaXQoImNhbGwtZ2V0LXRlYW1zIik7DQogICAgfSwNCiAgICB0ZWFtTGVhZENhblNlZSh0ZWFtKSB7DQogICAgICBpZiAodGhpcy5yaWdodHMgPT09ICJBZG1pbiIpIHsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgICBpZiAodGVhbS50ZWFtbGVhZCAhPT0gbnVsbCAmJiB0ZWFtLnRlYW1sZWFkID09PSB0aGlzLnNpZ25lZFVzZXIpIHsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgICAvLyBpZiAodGhpcy5yaWdodHMgPT09ICJUZWFtIExlYWQiICYmIHRlYW0udGVhbWxlYWQgPT09IHRoaXMuc2lnbmVkVXNlcikgew0KICAgICAgLy8gICByZXR1cm4gdHJ1ZTsNCiAgICAgIC8vIH0NCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9LA0KICAgIHNwZW50TW9uZXkodGVhbSkgew0KICAgICAgbGV0IHNwZW50TW9uZXkgPSAwOw0KICAgICAgZm9yIChjb25zdCBwcm9qZWN0IG9mIHRlYW0ucHJvamVjdHMpIHsNCiAgICAgICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5leHBlbnNlcyAmJiBwcm9qZWN0LmV4cGVuc2VzLmxlbmd0aCkgew0KICAgICAgICAgIGZvciAoY29uc3Qgc3BlbnQgb2YgcHJvamVjdC5leHBlbnNlcykgew0KICAgICAgICAgICAgc3BlbnRNb25leSArPSBzcGVudC5hbW91bnQ7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gc3BlbnRNb25leTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Teams.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Teams.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <!-- // check -->\r\n    <div class=\"teams-container\" v-if=\"(isAdmin || isTeamLead || isUser) && !noProjectsModal\">\r\n      <div class=\"team\" v-for=\"(team, teamIndex) in teamsArr\" :key=\"teamIndex\">\r\n        <div v-if=\"teamLeadCanSee(team) || isUser\">\r\n          <h3 v-if=\"isAdmin || isTeamLead\">\r\n            {{ team.teamName }} - Budget is {{ team.teamBudget }} €\r\n            <s v-if=\"spentMoney(team) !== 0\">{{ spentMoney(team) }} €</s>\r\n          </h3>\r\n          <h3 v-if=\"(isAdmin || isTeamLead) && team.teamlead !== ''\">\r\n            Teamlead is {{ team.teamlead }}\r\n          </h3>\r\n          <h3 v-else-if=\"(isAdmin || isTeamLead) && team.teamlead === ''\">\r\n            There is no teamlead currently\r\n          </h3>\r\n          <ProjectForm @call-get-teams=\"getTeams\" :isAdmin=\"isAdmin\" :isTeamLead=\"isTeamLead\" :isUser=\"isUser\" :team=\"team\"></ProjectForm>\r\n        </div>\r\n        <Projects\r\n          :teamIndex=\"teamIndex\"\r\n          :teams=\"teamsArr\"\r\n          :rights=\"rights\"\r\n          :isAdmin=\"isAdmin\"\r\n          :isTeamLead=\"isTeamLead\"\r\n          :isUser=\"isUser\"\r\n          :team=\"team\"\r\n          @call-get-teams=\"getTeams\"\r\n          @no-projects=\"showNoProjectsWindow\"\r\n        ></Projects>\r\n      </div>\r\n    </div>\r\n    <div class=\"teams-container\" v-if=\"noProjectsModal\">\r\n      Currently there is no projects or teams for you to see, contact\r\n      administrators.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProjectForm from \"../components/ProjectForm.vue\";\r\nimport Projects from \"../components/Projects.vue\";\r\nimport { db } from \"@/firebase\";\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n  name: \"Teams\",\r\n  components: {\r\n    Projects,\r\n    ProjectForm,\r\n  },\r\n  props: [\"isAdmin\", \"isTeamLead\", \"isUser\", \"teamsArr\", \"rights\"],\r\n  data() {\r\n    return {\r\n      noProjectsModal: false,\r\n    };\r\n  },\r\n  computed: {\r\n    signedUser() {\r\n      return store.currentUser;\r\n    },\r\n  },\r\n  methods: {\r\n    showNoProjectsWindow() {\r\n      this.noProjectsModal = true;\r\n    },\r\n    getTeams() {\r\n      this.$emit(\"call-get-teams\");\r\n    },\r\n    teamLeadCanSee(team) {\r\n      if (this.rights === \"Admin\") {\r\n        return true;\r\n      }\r\n      if (team.teamlead !== null && team.teamlead === this.signedUser) {\r\n        return true;\r\n      }\r\n      // if (this.rights === \"Team Lead\" && team.teamlead === this.signedUser) {\r\n      //   return true;\r\n      // }\r\n      return false;\r\n    },\r\n    spentMoney(team) {\r\n      let spentMoney = 0;\r\n      for (const project of team.projects) {\r\n        if (project && project.expenses && project.expenses.length) {\r\n          for (const spent of project.expenses) {\r\n            spentMoney += spent.amount;\r\n          }\r\n        }\r\n      }\r\n      return spentMoney;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.teams-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: row;\r\n  align-items: start;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.team {\r\n  margin-right: 20px;\r\n  margin-bottom: 20px;\r\n  background-color: rgba(0, 0, 0, 0.025);\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  width: 40%;\r\n  padding: 20px;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>"]}]}