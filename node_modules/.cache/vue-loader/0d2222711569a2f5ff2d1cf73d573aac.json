{"remainingRequest":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomo/Documents/projects/vue-diplomski/src/App.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/tomo/Documents/projects/vue-diplomski/src/App.vue","mtime":1680948623761},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/css-loader/dist/cjs.js","mtime":1680948621394},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1680948623381},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/postcss-loader/src/index.js","mtime":1680948622442},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/sass-loader/dist/cjs.js","mtime":1680948622702},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/cache-loader/dist/cjs.js","mtime":1680948621095},{"path":"/Users/tomo/Documents/projects/vue-diplomski/node_modules/vue-loader/lib/index.js","mtime":1680948623381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2FwcCB7CiAgZm9udC1mYW1pbHk6IEF2ZW5pciwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsKICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOwogIGNvbG9yOiAjMmMzZTUwOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBtYXJnaW4tbGVmdDogMTBweDsKfQoKLmZsZXggewogIGRpc3BsYXk6IGZsZXg7CiAgd2lkdGg6IDEwMCU7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBhbGlnbi1pdGVtczogZmxleC1lbmQ7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKfQoKI25hdiB7CiAgcGFkZGluZzogMzBweDsKCiAgYSB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGNvbG9yOiAjMmMzZTUwOwogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDsKCiAgICAmLnJvdXRlci1saW5rLWV4YWN0LWFjdGl2ZSB7CiAgICAgIGNvbG9yOiAjNDJiOTgzOwogICAgfQogIH0KfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <nav id=\"nav\" class=\"navbar navbar-expand-lg navbar-light\">\n      <a class=\"navbar-brand\" href=\"/\"> </a>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n      >\n        <span class=\"navbar-toggler-icon\" ref_testcafe=\"hamburgerMenu\"></span>\n      </button>\n      <div class=\"flex collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"flex navbar-nav mr-auto\">\n          <li v-if=\"!currentUser\" class=\"nav-item\" ref_testcafe=\"login\">\n            <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\n          </li>\n          <li v-if=\"!currentUser\" class=\"nav-item\" ref_testcafe=\"register\">\n            <router-link class=\"nav-link\" to=\"/signup\">Signup</router-link>\n          </li>\n          <li v-if=\"currentUser\" class=\"nav-item\">\n            <a href=\"#\" @click.prevent=\"logout()\" class=\"nav-link\" ref_testcafe=\"logoutButton\">Logout</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n    <router-view />\n  </div>\n</template>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n}\n\n.flex {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: flex-end;\n}\n\n#nav {\n  padding: 30px;\n\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n    background-color: white !important;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n</style>\n\n<script>\nimport store from \"@/store.js\";\nimport { firebase } from \"@/firebase.js\";\nimport router from \"@/router\";\nimport { db } from \"@/firebase\";\n\nfirebase.auth().onAuthStateChanged((user) => {\n  const currentRoute = router.currentRoute;\n  if (user) {\n    store.currentUser = user.email;\n    if (!currentRoute.meta.needsUser) {\n      router.push({ name: \"Home\" });\n    }\n  } else {\n    store.currentUser = null;\n    if (currentRoute.meta.needsUser) {\n      router.push({ name: \"Login\" });\n    }\n  }\n});\n\nexport default {\n  data() {\n    return store;\n  },\n  async created() {\n    const usersRef = db.collection(\"users\");\n    usersRef.onSnapshot((snapshot) => {\n      snapshot.forEach((doc) => {\n        const user = doc.data();\n        const userRole = doc.data();\n        if (store.currentUser === user.user) {\n          let userRola;\n          if (userRole.isAdmin) {\n            userRola = \"admin\";\n          } else if (userRole.isTeamLead) {\n            userRola = \"teamlead\";\n          } else {\n            userRola = \"user\";\n          }\n        }\n      });\n    });\n  },\n  methods: {\n    logout() {\n      firebase\n        .auth()\n        .signOut()\n        .then(() => {\n          this.$router.push({ name: \"Login\" });\n        });\n    },\n  },\n};\n</script>\n"]}]}